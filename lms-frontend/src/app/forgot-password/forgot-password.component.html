<main class="auth">
  <div class="auth-bg" aria-hidden="true"></div>

  <section class="auth-card card">
    <h1>Quên mật khẩu</h1>
    <p class="subtitle">Nhập email đã đăng ký để nhận liên kết đặt lại mật khẩu.</p>

    <form #form="ngForm" (ngSubmit)="onSubmit(form)" novalidate>
      <div *ngIf="successMessage" class="alert alert-success" role="status">
        {{ successMessage }}
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
        {{ errorMessage }}
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input
          id="email"
          name="email"
          type="email"
          required
          email
          [(ngModel)]="email"
          #emailModel="ngModel"
          [class.is-invalid]="emailModel.invalid && emailModel.touched"
          placeholder="ví dụ: hocvien@phuongtu.edu.vn"
        />
        <div *ngIf="emailModel.invalid && emailModel.touched" class="invalid-feedback">
          Vui lòng nhập email hợp lệ.
        </div>
      </div>

      <button class="btn btn-block" type="submit" [disabled]="form.invalid || loading">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        {{ loading ? 'Đang gửi...' : 'Gửi hướng dẫn' }}
      </button>

      <div class="text-center mt-3">
        <a routerLink="/login" class="link">← Quay lại đăng nhập</a>
      </div>
    </form>
  </section>
</main>
