<div class="container-fluid mt-4">
  <h1 class="mb-4">Reports & Analytics</h1>

  <div class="card shadow-sm mb-4">
    <div class="card-body d-flex align-items-center gap-3">
      <div>
        <label for="startDate" class="form-label">Từ ngày</label>
        <input type="date" class="form-control" id="startDate" [(ngModel)]="startDate">
      </div>
      <div>
        <label for="endDate" class="form-label">Đến ngày</label>
        <input type="date" class="form-control" id="endDate" [(ngModel)]="endDate">
      </div>
      <button class="btn btn-primary align-self-end" (click)="generateReport()" [disabled]="isLoading">
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        {{ isLoading ? 'Loading...' : 'Xem Báo Cáo' }}
      </button>
    </div>
  </div>

  <div *ngIf="isLoading" class="text-center my-5"><div class="spinner-border" style="width: 3rem; height: 3rem;"></div></div>
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <div *ngIf="!isLoading && reportData" class="row">
    <div class="col-lg-8 mb-4">
      <div class="card shadow h-100">
        <div class="card-header">
          <h6 class="m-0 font-weight-bold">Thống Kê Lượt Mượn Sách Theo Tháng</h6>
        </div>
        <div class="card-body">
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-4">
      <div class="card shadow h-100">
        <div class="card-header">
          <h6 class="m-0 font-weight-bold">Top 5 Sách Mượn Nhiều Nhất</h6>
        </div>
        <div class="card-body">
        </div>
      </div>
    </div>
  </div>
</div>