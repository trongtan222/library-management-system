2025-12-26T08:24:20.186+07:00  INFO 16152 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 16152 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T08:24:20.203+07:00  INFO 16152 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T08:24:24.257+07:00  INFO 16152 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T08:24:24.265+07:00  INFO 16152 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T08:24:24.806+07:00  INFO 16152 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 514 ms. Found 14 JPA repository interfaces.
2025-12-26T08:24:24.902+07:00  INFO 16152 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T08:24:24.911+07:00  INFO 16152 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T08:24:25.023+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.029+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.031+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.034+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.036+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.038+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.040+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.043+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.046+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.049+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.050+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.051+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.054+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.056+07:00  INFO 16152 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T08:24:25.058+07:00  INFO 16152 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 0 Redis repository interfaces.
2025-12-26T08:24:27.308+07:00  INFO 16152 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T08:24:27.386+07:00  INFO 16152 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T08:24:27.387+07:00  INFO 16152 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T08:24:27.705+07:00  INFO 16152 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T08:24:27.706+07:00  INFO 16152 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7407 ms
2025-12-26T08:24:28.580+07:00  INFO 16152 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T08:24:28.828+07:00  INFO 16152 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T08:24:29.066+07:00  INFO 16152 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T08:24:29.938+07:00  INFO 16152 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T08:24:30.036+07:00  INFO 16152 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T08:24:30.727+07:00  INFO 16152 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8e3449e
2025-12-26T08:24:30.744+07:00  INFO 16152 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T08:24:30.863+07:00  WARN 16152 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T08:24:30.872+07:00  WARN 16152 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T08:24:30.916+07:00  INFO 16152 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T08:24:32.932+07:00  INFO 16152 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T08:24:34.165+07:00  INFO 16152 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T08:24:34.681+07:00  INFO 16152 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T08:24:38.310+07:00  INFO 16152 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T08:24:38.311+07:00  WARN 16152 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T08:24:38.806+07:00  WARN 16152 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatbotController' defined in file [C:\Users\Admin\library-management-system\lms-backend\target\classes\com\ibizabroker\lms\controller\ChatbotController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'restTemplate' defined in class path resource [com/ibizabroker/lms/configuration/HttpClientConfig.class]: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception with message: org/apache/hc/client5/http/classic/HttpClient
2025-12-26T08:24:38.817+07:00  INFO 16152 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T08:24:38.832+07:00  INFO 16152 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T08:24:38.854+07:00  INFO 16152 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T08:24:38.864+07:00  INFO 16152 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-26T08:24:38.916+07:00  INFO 16152 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-26T08:24:38.967+07:00 ERROR 16152 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatbotController' defined in file [C:\Users\Admin\library-management-system\lms-backend\target\classes\com\ibizabroker\lms\controller\ChatbotController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'restTemplate' defined in class path resource [com/ibizabroker/lms/configuration/HttpClientConfig.class]: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception with message: org/apache/hc/client5/http/classic/HttpClient
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.ibizabroker.lms.LibraryManagementApplication.main(LibraryManagementApplication.java:21) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'restTemplate' defined in class path resource [com/ibizabroker/lms/configuration/HttpClientConfig.class]: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception with message: org/apache/hc/client5/http/classic/HttpClient
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 21 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception with message: org/apache/hc/client5/http/classic/HttpClient
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.15.jar:6.2.15]
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/hc/client5/http/classic/HttpClient
	at com.ibizabroker.lms.configuration.HttpClientConfig.restTemplate(HttpClientConfig.java:16) ~[classes/:na]
	at com.ibizabroker.lms.configuration.HttpClientConfig$$SpringCGLIB$$0.CGLIB$restTemplate$0(<generated>) ~[classes/:na]
	at com.ibizabroker.lms.configuration.HttpClientConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.2.15.jar:6.2.15]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400) ~[spring-context-6.2.15.jar:6.2.15]
	at com.ibizabroker.lms.configuration.HttpClientConfig$$SpringCGLIB$$0.restTemplate(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172) ~[spring-beans-6.2.15.jar:6.2.15]
	... 37 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.hc.client5.http.classic.HttpClient
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 46 common frames omitted

2025-12-26T09:36:49.088+07:00  INFO 27064 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 27064 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T09:36:49.090+07:00  INFO 27064 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T09:36:51.444+07:00  INFO 27064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T09:36:51.444+07:00  INFO 27064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T09:36:51.913+07:00  INFO 27064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 427 ms. Found 14 JPA repository interfaces.
2025-12-26T09:36:51.944+07:00  INFO 27064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T09:36:51.947+07:00  INFO 27064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T09:36:51.995+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.001+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.006+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.009+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.011+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.013+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.018+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.019+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.024+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.027+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.030+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.033+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.036+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.038+07:00  INFO 27064 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:36:52.039+07:00  INFO 27064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 0 Redis repository interfaces.
2025-12-26T09:36:53.301+07:00  INFO 27064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T09:36:53.355+07:00  INFO 27064 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T09:36:53.357+07:00  INFO 27064 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T09:36:53.497+07:00  INFO 27064 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T09:36:53.498+07:00  INFO 27064 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4327 ms
2025-12-26T09:36:53.958+07:00  INFO 27064 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T09:36:54.110+07:00  INFO 27064 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T09:36:54.204+07:00  INFO 27064 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T09:36:54.677+07:00  INFO 27064 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T09:36:54.730+07:00  INFO 27064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T09:36:55.127+07:00  INFO 27064 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8f589d7
2025-12-26T09:36:55.130+07:00  INFO 27064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T09:36:55.226+07:00  WARN 27064 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T09:36:55.242+07:00  WARN 27064 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T09:36:55.284+07:00  INFO 27064 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T09:36:57.073+07:00  INFO 27064 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T09:36:57.511+07:00  INFO 27064 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T09:36:58.131+07:00  INFO 27064 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T09:37:00.938+07:00  INFO 27064 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T09:37:00.938+07:00  WARN 27064 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T09:37:01.219+07:00  WARN 27064 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatbotController' defined in file [C:\Users\Admin\library-management-system\lms-backend\target\classes\com\ibizabroker\lms\controller\ChatbotController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'restTemplate' defined in class path resource [com/ibizabroker/lms/configuration/HttpClientConfig.class]: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception with message: org/apache/hc/client5/http/classic/HttpClient
2025-12-26T09:37:01.223+07:00  INFO 27064 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T09:37:01.235+07:00  INFO 27064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T09:37:01.254+07:00  INFO 27064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T09:37:01.260+07:00  INFO 27064 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-26T09:37:01.313+07:00  INFO 27064 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-26T09:37:01.370+07:00 ERROR 27064 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatbotController' defined in file [C:\Users\Admin\library-management-system\lms-backend\target\classes\com\ibizabroker\lms\controller\ChatbotController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'restTemplate' defined in class path resource [com/ibizabroker/lms/configuration/HttpClientConfig.class]: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception with message: org/apache/hc/client5/http/classic/HttpClient
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.ibizabroker.lms.LibraryManagementApplication.main(LibraryManagementApplication.java:21) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'restTemplate' defined in class path resource [com/ibizabroker/lms/configuration/HttpClientConfig.class]: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception with message: org/apache/hc/client5/http/classic/HttpClient
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 21 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception with message: org/apache/hc/client5/http/classic/HttpClient
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.2.15.jar:6.2.15]
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/hc/client5/http/classic/HttpClient
	at com.ibizabroker.lms.configuration.HttpClientConfig.restTemplate(HttpClientConfig.java:16) ~[classes/:na]
	at com.ibizabroker.lms.configuration.HttpClientConfig$$SpringCGLIB$$0.CGLIB$restTemplate$0(<generated>) ~[classes/:na]
	at com.ibizabroker.lms.configuration.HttpClientConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.2.15.jar:6.2.15]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400) ~[spring-context-6.2.15.jar:6.2.15]
	at com.ibizabroker.lms.configuration.HttpClientConfig$$SpringCGLIB$$0.restTemplate(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172) ~[spring-beans-6.2.15.jar:6.2.15]
	... 37 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.hc.client5.http.classic.HttpClient
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 46 common frames omitted

2025-12-26T09:37:59.503+07:00  INFO 27236 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 27236 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T09:37:59.514+07:00  INFO 27236 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T09:38:06.512+07:00  INFO 27236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T09:38:06.512+07:00  INFO 27236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T09:38:07.105+07:00  INFO 27236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 557 ms. Found 14 JPA repository interfaces.
2025-12-26T09:38:07.148+07:00  INFO 27236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T09:38:07.163+07:00  INFO 27236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T09:38:07.246+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.412+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.429+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.481+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.513+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.543+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.575+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.623+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.678+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.694+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.726+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.745+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.762+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.796+07:00  INFO 27236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:38:07.806+07:00  INFO 27236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 607 ms. Found 0 Redis repository interfaces.
2025-12-26T09:38:10.411+07:00  INFO 27236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T09:38:10.493+07:00  INFO 27236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T09:38:10.499+07:00  INFO 27236 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T09:38:10.846+07:00  INFO 27236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T09:38:10.846+07:00  INFO 27236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11099 ms
2025-12-26T09:38:11.690+07:00  INFO 27236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T09:38:11.893+07:00  INFO 27236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T09:38:12.005+07:00  INFO 27236 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T09:38:13.161+07:00  INFO 27236 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T09:38:13.261+07:00  INFO 27236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T09:38:13.794+07:00  INFO 27236 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38445703
2025-12-26T09:38:13.794+07:00  INFO 27236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T09:38:13.911+07:00  WARN 27236 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T09:38:13.928+07:00  WARN 27236 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T09:38:14.061+07:00  INFO 27236 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T09:38:18.605+07:00  INFO 27236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T09:38:19.737+07:00  INFO 27236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T09:38:20.969+07:00  INFO 27236 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T09:38:24.123+07:00  INFO 27236 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T09:38:24.127+07:00  WARN 27236 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T09:38:26.461+07:00  INFO 27236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T09:38:27.784+07:00  INFO 27236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T09:38:27.815+07:00  INFO 27236 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 30.822 seconds (process running for 33.177)
2025-12-26T09:38:41.673+07:00  INFO 27236 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T09:38:41.674+07:00  INFO 27236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T09:38:41.681+07:00  INFO 27236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-26T09:38:42.443+07:00  WARN 27236 --- [http-nio-8080-exec-4] c.i.lms.configuration.JwtRequestFilter   : Invalid JWT signature

io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
	at io.jsonwebtoken.impl.DefaultJwtParser.verifySignature(DefaultJwtParser.java:340) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:577) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.ibizabroker.lms.util.JwtUtil.parseAllClaims(JwtUtil.java:105) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getClaim(JwtUtil.java:98) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getUsernameFromToken(JwtUtil.java:80) ~[classes/:na]
	at com.ibizabroker.lms.configuration.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-26T09:38:42.443+07:00  WARN 27236 --- [http-nio-8080-exec-1] c.i.lms.configuration.JwtRequestFilter   : Invalid JWT signature

io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
	at io.jsonwebtoken.impl.DefaultJwtParser.verifySignature(DefaultJwtParser.java:340) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:577) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.ibizabroker.lms.util.JwtUtil.parseAllClaims(JwtUtil.java:105) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getClaim(JwtUtil.java:98) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getUsernameFromToken(JwtUtil.java:80) ~[classes/:na]
	at com.ibizabroker.lms.configuration.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-26T09:43:02.892+07:00  INFO 24628 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 24628 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T09:43:02.898+07:00  INFO 24628 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T09:43:04.640+07:00  INFO 24628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T09:43:04.644+07:00  INFO 24628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T09:43:04.895+07:00  INFO 24628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 232 ms. Found 14 JPA repository interfaces.
2025-12-26T09:43:04.913+07:00  INFO 24628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T09:43:04.917+07:00  INFO 24628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T09:43:04.929+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.940+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.940+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.940+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.940+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.940+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.940+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.940+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.947+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.947+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.947+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.947+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.947+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.947+07:00  INFO 24628 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:43:04.947+07:00  INFO 24628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-12-26T09:43:06.014+07:00  INFO 24628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T09:43:06.025+07:00  INFO 24628 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T09:43:06.025+07:00  INFO 24628 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T09:43:06.132+07:00  INFO 24628 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T09:43:06.133+07:00  INFO 24628 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3154 ms
2025-12-26T09:43:07.357+07:00  INFO 24628 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T09:43:07.518+07:00  INFO 24628 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T09:43:07.608+07:00  INFO 24628 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T09:43:08.556+07:00  INFO 24628 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T09:43:08.639+07:00  INFO 24628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T09:43:09.028+07:00  INFO 24628 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5213b887
2025-12-26T09:43:09.032+07:00  INFO 24628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T09:43:09.152+07:00  WARN 24628 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T09:43:09.172+07:00  WARN 24628 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T09:43:09.251+07:00  INFO 24628 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T09:43:13.660+07:00  INFO 24628 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T09:43:14.229+07:00  INFO 24628 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T09:43:15.373+07:00  INFO 24628 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T09:43:21.189+07:00  INFO 24628 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T09:43:21.189+07:00  WARN 24628 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T09:43:24.996+07:00  INFO 24628 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T09:43:27.655+07:00  INFO 24628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T09:43:27.704+07:00  INFO 24628 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 25.58 seconds (process running for 25.964)
2025-12-26T09:43:34.922+07:00  INFO 24628 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T09:43:34.922+07:00  INFO 24628 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T09:43:34.935+07:00  INFO 24628 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-12-26T09:52:40.752+07:00  WARN 24628 --- [http-nio-8080-exec-9] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-12-26T09:52:40.847+07:00  WARN 24628 --- [http-nio-8080-exec-9] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-12-26T09:53:06.726+07:00  INFO 24628 --- [http-nio-8080-exec-1] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T09:58:10.144+07:00  INFO 26948 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 26948 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T09:58:10.150+07:00  INFO 26948 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T09:58:13.427+07:00  INFO 26948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T09:58:13.452+07:00  INFO 26948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T09:58:14.117+07:00  INFO 26948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 604 ms. Found 14 JPA repository interfaces.
2025-12-26T09:58:14.193+07:00  INFO 26948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T09:58:14.200+07:00  INFO 26948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T09:58:14.314+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.318+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.319+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.319+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.328+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.334+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.339+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.344+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.353+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.359+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.368+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.370+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.374+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.380+07:00  INFO 26948 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T09:58:14.384+07:00  INFO 26948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 107 ms. Found 0 Redis repository interfaces.
2025-12-26T09:58:16.784+07:00  INFO 26948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T09:58:16.837+07:00  INFO 26948 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T09:58:16.839+07:00  INFO 26948 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T09:58:17.112+07:00  INFO 26948 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T09:58:17.119+07:00  INFO 26948 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6856 ms
2025-12-26T09:58:18.239+07:00  INFO 26948 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T09:58:18.403+07:00  INFO 26948 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T09:58:18.664+07:00  INFO 26948 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T09:58:19.715+07:00  INFO 26948 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T09:58:19.818+07:00  INFO 26948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T09:58:20.568+07:00  INFO 26948 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46fdfaeb
2025-12-26T09:58:20.574+07:00  INFO 26948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T09:58:20.710+07:00  WARN 26948 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T09:58:20.727+07:00  WARN 26948 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T09:58:20.784+07:00  INFO 26948 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T09:58:24.643+07:00  INFO 26948 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T09:58:25.146+07:00  INFO 26948 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T09:58:25.695+07:00  INFO 26948 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T09:58:28.051+07:00  INFO 26948 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T09:58:28.051+07:00  WARN 26948 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T09:58:29.915+07:00  INFO 26948 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T09:58:30.989+07:00  INFO 26948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T09:58:31.038+07:00  INFO 26948 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 21.775 seconds (process running for 22.503)
2025-12-26T09:59:44.106+07:00  INFO 26948 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T09:59:44.127+07:00  INFO 26948 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T09:59:44.156+07:00  INFO 26948 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2025-12-26T09:59:55.975+07:00  INFO 26948 --- [http-nio-8080-exec-10] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:00:42.976+07:00  INFO 26948 --- [http-nio-8080-exec-2] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:05:43.795+07:00  INFO 25952 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 25952 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T10:05:43.797+07:00  INFO 25952 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T10:05:45.797+07:00  INFO 25952 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:05:45.811+07:00  INFO 25952 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T10:05:46.072+07:00  INFO 25952 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 257 ms. Found 14 JPA repository interfaces.
2025-12-26T10:05:46.110+07:00  INFO 25952 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:05:46.113+07:00  INFO 25952 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T10:05:46.141+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.141+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.151+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.151+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.151+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.151+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.151+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.151+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.151+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.151+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.157+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.157+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.158+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.158+07:00  INFO 25952 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:05:46.158+07:00  INFO 25952 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-12-26T10:05:47.123+07:00  INFO 25952 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:05:47.150+07:00  INFO 25952 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:05:47.150+07:00  INFO 25952 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T10:05:47.241+07:00  INFO 25952 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:05:47.242+07:00  INFO 25952 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3380 ms
2025-12-26T10:05:47.638+07:00  INFO 25952 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T10:05:47.747+07:00  INFO 25952 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T10:05:47.799+07:00  INFO 25952 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T10:05:48.109+07:00  INFO 25952 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T10:05:48.161+07:00  INFO 25952 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:05:48.508+07:00  INFO 25952 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c5cd2ea
2025-12-26T10:05:48.509+07:00  INFO 25952 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:05:48.560+07:00  WARN 25952 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T10:05:48.578+07:00  WARN 25952 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T10:05:48.591+07:00  INFO 25952 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T10:05:50.132+07:00  INFO 25952 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T10:05:50.559+07:00  INFO 25952 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:05:50.973+07:00  INFO 25952 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T10:05:53.121+07:00  INFO 25952 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T10:05:53.121+07:00  WARN 25952 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T10:05:54.780+07:00  INFO 25952 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T10:05:55.781+07:00  INFO 25952 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:05:55.832+07:00  INFO 25952 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 12.617 seconds (process running for 13.157)
2025-12-26T10:06:16.500+07:00  INFO 25952 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:06:16.500+07:00  INFO 25952 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:06:16.500+07:00  INFO 25952 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-26T10:06:35.030+07:00  INFO 25952 --- [http-nio-8080-exec-10] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:21:13.036+07:00  INFO 25952 --- [http-nio-8080-exec-1] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:24:36.033+07:00  INFO 25952 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T10:24:36.049+07:00  INFO 25952 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T10:24:36.084+07:00  INFO 25952 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:24:36.089+07:00  INFO 25952 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T10:24:36.100+07:00  INFO 25952 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T10:27:38.259+07:00  INFO 23096 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 23096 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T10:27:38.262+07:00  INFO 23096 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T10:27:39.961+07:00  INFO 23096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:27:39.963+07:00  INFO 23096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T10:27:40.157+07:00  INFO 23096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 186 ms. Found 14 JPA repository interfaces.
2025-12-26T10:27:40.177+07:00  INFO 23096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:27:40.181+07:00  INFO 23096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T10:27:40.200+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.200+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.200+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.200+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.200+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.200+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.209+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.209+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.210+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.210+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.210+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.210+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.214+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.214+07:00  INFO 23096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:27:40.214+07:00  INFO 23096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-12-26T10:27:41.061+07:00  INFO 23096 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:27:41.061+07:00  INFO 23096 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:27:41.061+07:00  INFO 23096 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T10:27:41.136+07:00  INFO 23096 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:27:41.136+07:00  INFO 23096 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2817 ms
2025-12-26T10:27:41.422+07:00  INFO 23096 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T10:27:41.499+07:00  INFO 23096 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T10:27:41.547+07:00  INFO 23096 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T10:27:41.948+07:00  INFO 23096 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T10:27:41.988+07:00  INFO 23096 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:27:42.365+07:00  INFO 23096 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f3aa970
2025-12-26T10:27:42.369+07:00  INFO 23096 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:27:42.427+07:00  WARN 23096 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T10:27:42.428+07:00  WARN 23096 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T10:27:42.449+07:00  INFO 23096 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T10:27:44.164+07:00  INFO 23096 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T10:27:44.624+07:00  INFO 23096 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:27:45.154+07:00  INFO 23096 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T10:27:47.360+07:00  INFO 23096 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T10:27:47.360+07:00  WARN 23096 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T10:27:49.232+07:00  INFO 23096 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T10:27:50.251+07:00  INFO 23096 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:27:50.305+07:00  INFO 23096 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 12.927 seconds (process running for 13.39)
2025-12-26T10:28:04.562+07:00  INFO 23096 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:28:04.578+07:00  INFO 23096 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:28:04.582+07:00  INFO 23096 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-26T10:28:10.060+07:00  INFO 23096 --- [http-nio-8080-exec-6] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:28:11.594+07:00  WARN 23096 --- [http-nio-8080-exec-6] c.i.lms.controller.ChatbotController     : Failed to load service account credentials: Use JsonReader.setStrictness(Strictness.LENIENT) to accept malformed JSON at line 1 column 1 path $
See https://github.com/google/gson/blob/main/Troubleshooting.md#malformed-json
2025-12-26T10:31:20.229+07:00  INFO 23096 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T10:31:20.246+07:00  INFO 23096 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T10:31:20.288+07:00  INFO 23096 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:31:20.288+07:00  INFO 23096 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T10:31:20.308+07:00  INFO 23096 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T10:31:28.932+07:00  INFO 20696 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 20696 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T10:31:28.932+07:00  INFO 20696 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T10:31:30.623+07:00  INFO 20696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:31:30.623+07:00  INFO 20696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T10:31:30.887+07:00  INFO 20696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 245 ms. Found 14 JPA repository interfaces.
2025-12-26T10:31:30.917+07:00  INFO 20696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:31:30.917+07:00  INFO 20696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T10:31:30.967+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.971+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.972+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.976+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.977+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.978+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.979+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.980+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.983+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.985+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.987+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.987+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.990+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.991+07:00  INFO 20696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:31:30.992+07:00  INFO 20696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2025-12-26T10:31:31.913+07:00  INFO 20696 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:31:31.939+07:00  INFO 20696 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:31:31.940+07:00  INFO 20696 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T10:31:32.015+07:00  INFO 20696 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:31:32.015+07:00  INFO 20696 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3016 ms
2025-12-26T10:31:32.313+07:00  INFO 20696 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T10:31:32.471+07:00  INFO 20696 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T10:31:32.507+07:00  INFO 20696 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T10:31:32.893+07:00  INFO 20696 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T10:31:32.969+07:00  INFO 20696 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:31:33.255+07:00  INFO 20696 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f4029e9
2025-12-26T10:31:33.271+07:00  INFO 20696 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:31:33.355+07:00  WARN 20696 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T10:31:33.361+07:00  WARN 20696 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T10:31:33.391+07:00  INFO 20696 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T10:31:35.051+07:00  INFO 20696 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T10:31:35.480+07:00  INFO 20696 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:31:35.934+07:00  INFO 20696 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T10:31:38.077+07:00  INFO 20696 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T10:31:38.077+07:00  WARN 20696 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T10:31:39.755+07:00  INFO 20696 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T10:31:40.846+07:00  INFO 20696 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:31:40.879+07:00  INFO 20696 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 12.698 seconds (process running for 13.069)
2025-12-26T10:32:00.378+07:00  INFO 20696 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:32:00.384+07:00  INFO 20696 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:32:00.398+07:00  INFO 20696 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-12-26T10:32:06.055+07:00  INFO 20696 --- [http-nio-8080-exec-2] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:38:24.957+07:00  INFO 20696 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T10:38:24.980+07:00  INFO 20696 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T10:38:25.039+07:00  INFO 20696 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:38:25.045+07:00  INFO 20696 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T10:38:25.053+07:00  INFO 20696 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T10:39:15.364+07:00  INFO 29692 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 29692 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T10:39:15.366+07:00  INFO 29692 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T10:39:17.506+07:00  INFO 29692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:39:17.506+07:00  INFO 29692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T10:39:17.793+07:00  INFO 29692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 255 ms. Found 14 JPA repository interfaces.
2025-12-26T10:39:17.814+07:00  INFO 29692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:39:17.816+07:00  INFO 29692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T10:39:17.842+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.845+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.846+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.857+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.858+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.859+07:00  INFO 29692 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:39:17.860+07:00  INFO 29692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-12-26T10:39:18.918+07:00  INFO 29692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:39:18.943+07:00  INFO 29692 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:39:18.945+07:00  INFO 29692 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T10:39:19.073+07:00  INFO 29692 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:39:19.073+07:00  INFO 29692 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3601 ms
2025-12-26T10:39:19.421+07:00  INFO 29692 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T10:39:19.482+07:00  INFO 29692 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T10:39:19.552+07:00  INFO 29692 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T10:39:19.950+07:00  INFO 29692 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T10:39:20.004+07:00  INFO 29692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:39:20.297+07:00  INFO 29692 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c5cd2ea
2025-12-26T10:39:20.299+07:00  INFO 29692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:39:20.415+07:00  WARN 29692 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T10:39:20.421+07:00  WARN 29692 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T10:39:20.448+07:00  INFO 29692 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T10:39:22.257+07:00  INFO 29692 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T10:39:22.812+07:00  INFO 29692 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:39:23.384+07:00  INFO 29692 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T10:39:25.831+07:00  INFO 29692 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T10:39:25.831+07:00  WARN 29692 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T10:39:27.748+07:00  INFO 29692 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T10:39:28.957+07:00  INFO 29692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:39:28.979+07:00  INFO 29692 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 14.319 seconds (process running for 14.801)
2025-12-26T10:40:35.663+07:00  INFO 29692 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:40:35.664+07:00  INFO 29692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:40:35.664+07:00  INFO 29692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-26T10:40:48.473+07:00  INFO 29692 --- [http-nio-8080-exec-2] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:43:09.121+07:00  INFO 29692 --- [http-nio-8080-exec-4] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:45:12.085+07:00  INFO 29692 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T10:45:12.098+07:00  INFO 29692 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T10:45:12.131+07:00  INFO 29692 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:45:12.135+07:00  INFO 29692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T10:45:12.148+07:00  INFO 29692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T10:45:27.944+07:00  INFO 4712 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 4712 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T10:45:27.946+07:00  INFO 4712 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T10:45:29.572+07:00  INFO 4712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:45:29.572+07:00  INFO 4712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T10:45:29.805+07:00  INFO 4712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 211 ms. Found 14 JPA repository interfaces.
2025-12-26T10:45:29.837+07:00  INFO 4712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:45:29.837+07:00  INFO 4712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T10:45:29.872+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.874+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.875+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.875+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.876+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.876+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.876+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.876+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.876+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.881+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.882+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.884+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.885+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.885+07:00  INFO 4712 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:45:29.885+07:00  INFO 4712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-12-26T10:45:30.842+07:00  INFO 4712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:45:30.859+07:00  INFO 4712 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:45:30.859+07:00  INFO 4712 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T10:45:30.959+07:00  INFO 4712 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:45:30.959+07:00  INFO 4712 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2952 ms
2025-12-26T10:45:31.284+07:00  INFO 4712 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T10:45:31.354+07:00  INFO 4712 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T10:45:31.386+07:00  INFO 4712 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T10:45:31.706+07:00  INFO 4712 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T10:45:31.790+07:00  INFO 4712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:45:32.190+07:00  INFO 4712 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f3aa970
2025-12-26T10:45:32.206+07:00  INFO 4712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:45:32.262+07:00  WARN 4712 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T10:45:32.262+07:00  WARN 4712 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T10:45:32.295+07:00  INFO 4712 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T10:45:33.929+07:00  INFO 4712 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T10:45:34.390+07:00  INFO 4712 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:45:34.767+07:00  INFO 4712 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T10:45:37.022+07:00  INFO 4712 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T10:45:37.022+07:00  WARN 4712 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T10:45:38.850+07:00  INFO 4712 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T10:45:39.941+07:00  INFO 4712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:45:39.956+07:00  INFO 4712 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 12.858 seconds (process running for 13.468)
2025-12-26T10:45:56.651+07:00  INFO 4712 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:45:56.651+07:00  INFO 4712 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:45:56.651+07:00  INFO 4712 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-26T10:46:15.252+07:00  INFO 4712 --- [http-nio-8080-exec-8] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:46:18.000+07:00  WARN 4712 --- [http-nio-8080-exec-8] c.i.lms.controller.ChatbotController     :  Failed to load service account credentials: IOException - Error parsing token refresh response. Expected value access_token not found.
2025-12-26T10:48:27.955+07:00  INFO 4712 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T10:48:27.969+07:00  INFO 4712 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T10:48:28.024+07:00  INFO 4712 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:48:28.030+07:00  INFO 4712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T10:48:28.042+07:00  INFO 4712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T10:48:58.002+07:00  INFO 25932 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 25932 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T10:48:58.006+07:00  INFO 25932 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T10:48:59.653+07:00  INFO 25932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:48:59.656+07:00  INFO 25932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T10:48:59.878+07:00  INFO 25932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 208 ms. Found 14 JPA repository interfaces.
2025-12-26T10:48:59.903+07:00  INFO 25932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T10:48:59.906+07:00  INFO 25932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T10:48:59.929+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.932+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.934+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.936+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.938+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.940+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.941+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.942+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.942+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.942+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.942+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.942+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.942+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.942+07:00  INFO 25932 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T10:48:59.942+07:00  INFO 25932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-12-26T10:49:00.914+07:00  INFO 25932 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T10:49:00.936+07:00  INFO 25932 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T10:49:00.936+07:00  INFO 25932 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T10:49:01.076+07:00  INFO 25932 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T10:49:01.076+07:00  INFO 25932 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3019 ms
2025-12-26T10:49:01.379+07:00  INFO 25932 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T10:49:01.461+07:00  INFO 25932 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T10:49:01.499+07:00  INFO 25932 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T10:49:01.984+07:00  INFO 25932 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T10:49:02.048+07:00  INFO 25932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T10:49:02.307+07:00  INFO 25932 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46fdfaeb
2025-12-26T10:49:02.314+07:00  INFO 25932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T10:49:02.406+07:00  WARN 25932 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T10:49:02.412+07:00  WARN 25932 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T10:49:02.451+07:00  INFO 25932 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T10:49:03.884+07:00  INFO 25932 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T10:49:04.357+07:00  INFO 25932 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T10:49:04.862+07:00  INFO 25932 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T10:49:07.274+07:00  INFO 25932 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T10:49:07.276+07:00  WARN 25932 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T10:49:09.119+07:00  INFO 25932 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T10:49:10.106+07:00  INFO 25932 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T10:49:10.127+07:00  INFO 25932 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 12.805 seconds (process running for 13.265)
2025-12-26T10:49:15.889+07:00  INFO 25932 --- [http-nio-8080-exec-7] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T10:49:15.890+07:00  INFO 25932 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T10:49:15.894+07:00  INFO 25932 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-26T10:49:41.581+07:00  INFO 25932 --- [http-nio-8080-exec-6] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T10:49:43.047+07:00  INFO 25932 --- [http-nio-8080-exec-6] c.i.lms.controller.ChatbotController     : Loading service account from: D:\secrets\gemini-sa.json
2025-12-26T10:49:44.468+07:00  INFO 25932 --- [http-nio-8080-exec-6] c.i.lms.controller.ChatbotController     :  Service account token loaded successfully
2025-12-26T10:49:46.647+07:00 ERROR 25932 --- [http-nio-8080-exec-6] c.i.lms.controller.ChatbotController     :  403 Forbidden from Gemini API. Response: {
  "error": {
    "code": 403,
    "message": "This API method requires billing to be enabled. Please enable billing on project #smiling-height-474606-g6 by visiting https://console.developers.google.com/billing/enable?project=smiling-height-474606-g6 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.",
    "status": "PERMISSION_DENIED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "BILLING_DISABLED",
        "domain": "googleapis.com",
        "metadata": {
          "consumer": "projects/smiling-height-474606-g6",
          "service": "aiplatform.googleapis.com",
          "containerInfo": "smiling-height-474606-g6"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "This API method requires billing to be enabled. Please enable billing on project #smiling-height-474606-g6 by visiting https://console.developers.google.com/billing/enable?project=smiling-height-474606-g6 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry."
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Google developers console billing",
            "url": "https://console.developers.google.com/billing/enable?project=smiling-height-474606-g6"
          }
        ]
      }
    ]
  }
}

2025-12-26T10:49:46.664+07:00 ERROR 25932 --- [http-nio-8080-exec-6] c.i.lms.controller.ChatbotController     :  Service Account Used: Yes (SA)
2025-12-26T11:00:40.443+07:00  INFO 25932 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T11:00:40.470+07:00  INFO 25932 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T11:00:40.512+07:00  INFO 25932 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:00:40.512+07:00  INFO 25932 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T11:00:40.529+07:00  INFO 25932 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T11:01:22.351+07:00  INFO 33384 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 33384 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T11:01:22.361+07:00  INFO 33384 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T11:01:24.427+07:00  INFO 33384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:01:24.431+07:00  INFO 33384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T11:01:24.701+07:00  INFO 33384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 252 ms. Found 14 JPA repository interfaces.
2025-12-26T11:01:24.738+07:00  INFO 33384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:01:24.741+07:00  INFO 33384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T11:01:24.777+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.781+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.782+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.783+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.783+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.784+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.785+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.786+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.787+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.788+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.788+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.789+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.790+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.790+07:00  INFO 33384 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:01:24.790+07:00  INFO 33384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-12-26T11:01:25.781+07:00  INFO 33384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T11:01:25.796+07:00  INFO 33384 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T11:01:25.797+07:00  INFO 33384 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T11:01:25.892+07:00  INFO 33384 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T11:01:25.893+07:00  INFO 33384 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3402 ms
2025-12-26T11:01:26.208+07:00  INFO 33384 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T11:01:26.271+07:00  INFO 33384 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T11:01:26.327+07:00  INFO 33384 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T11:01:26.816+07:00  INFO 33384 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T11:01:26.888+07:00  INFO 33384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T11:01:27.199+07:00  INFO 33384 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f4029e9
2025-12-26T11:01:27.204+07:00  INFO 33384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T11:01:27.261+07:00  WARN 33384 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T11:01:27.274+07:00  WARN 33384 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T11:01:27.326+07:00  INFO 33384 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T11:01:29.313+07:00  INFO 33384 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T11:01:30.224+07:00  INFO 33384 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:01:30.566+07:00  INFO 33384 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T11:01:33.082+07:00  INFO 33384 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T11:01:33.082+07:00  WARN 33384 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T11:01:34.901+07:00  INFO 33384 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T11:01:35.886+07:00  INFO 33384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T11:01:35.927+07:00  INFO 33384 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 14.405 seconds (process running for 14.973)
2025-12-26T11:02:51.470+07:00  INFO 33384 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T11:02:51.481+07:00  INFO 33384 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T11:02:51.508+07:00  INFO 33384 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:02:51.511+07:00  INFO 33384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T11:02:51.511+07:00  INFO 33384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T11:03:56.515+07:00  INFO 31356 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 31356 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T11:03:56.517+07:00  INFO 31356 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T11:03:58.200+07:00  INFO 31356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:03:58.200+07:00  INFO 31356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T11:03:58.451+07:00  INFO 31356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 226 ms. Found 14 JPA repository interfaces.
2025-12-26T11:03:58.478+07:00  INFO 31356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:03:58.491+07:00  INFO 31356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T11:03:58.519+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.522+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.523+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.524+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.525+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.527+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.528+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.528+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.532+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.533+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.534+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.536+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.536+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.539+07:00  INFO 31356 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:03:58.540+07:00  INFO 31356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-12-26T11:03:59.640+07:00  INFO 31356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T11:03:59.656+07:00  INFO 31356 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T11:03:59.656+07:00  INFO 31356 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T11:03:59.774+07:00  INFO 31356 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T11:03:59.774+07:00  INFO 31356 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3194 ms
2025-12-26T11:04:00.122+07:00  INFO 31356 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T11:04:00.207+07:00  INFO 31356 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T11:04:00.282+07:00  INFO 31356 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T11:04:00.772+07:00  INFO 31356 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T11:04:00.852+07:00  INFO 31356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T11:04:01.131+07:00  INFO 31356 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b0e5d5f
2025-12-26T11:04:01.131+07:00  INFO 31356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T11:04:01.192+07:00  WARN 31356 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T11:04:01.202+07:00  WARN 31356 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T11:04:01.224+07:00  INFO 31356 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T11:04:03.089+07:00  INFO 31356 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T11:04:03.798+07:00  INFO 31356 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:04:04.080+07:00  INFO 31356 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T11:04:06.529+07:00  INFO 31356 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T11:04:06.529+07:00  WARN 31356 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T11:04:08.313+07:00  INFO 31356 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T11:04:09.365+07:00  INFO 31356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T11:04:09.402+07:00  INFO 31356 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 13.763 seconds (process running for 14.17)
2025-12-26T11:04:41.173+07:00  INFO 31356 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T11:04:41.182+07:00  INFO 31356 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T11:04:41.182+07:00  INFO 31356 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-26T11:04:55.490+07:00  INFO 31356 --- [http-nio-8080-exec-2] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:06:46.536+07:00  WARN 31356 --- [http-nio-8080-exec-5] c.i.lms.configuration.JwtRequestFilter   : Malformed JWT token

io.jsonwebtoken.MalformedJwtException: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
	at io.jsonwebtoken.impl.JwtTokenizer.tokenize(JwtTokenizer.java:102) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:370) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.ibizabroker.lms.util.JwtUtil.parseAllClaims(JwtUtil.java:105) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getClaim(JwtUtil.java:98) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getUsernameFromToken(JwtUtil.java:80) ~[classes/:na]
	at com.ibizabroker.lms.configuration.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-26T11:11:02.593+07:00  INFO 31356 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T11:11:02.623+07:00  INFO 31356 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T11:11:02.704+07:00  INFO 31356 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:11:02.704+07:00  INFO 31356 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T11:11:02.732+07:00  INFO 31356 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T11:12:30.105+07:00  INFO 31788 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 31788 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T11:12:30.108+07:00 DEBUG 31788 --- [main] c.i.lms.LibraryManagementApplication     : Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-26T11:12:30.108+07:00  INFO 31788 --- [main] c.i.lms.LibraryManagementApplication     : The following 1 profile is active: "dev"
2025-12-26T11:12:32.282+07:00  INFO 31788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:12:32.284+07:00  INFO 31788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T11:12:32.463+07:00  INFO 31788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 183 ms. Found 14 JPA repository interfaces.
2025-12-26T11:12:32.492+07:00  INFO 31788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:12:32.495+07:00  INFO 31788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T11:12:32.522+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.533+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.535+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.536+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.538+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.538+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.543+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.544+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.547+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.550+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.553+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.557+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.560+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.564+07:00  INFO 31788 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:12:32.566+07:00  INFO 31788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 0 Redis repository interfaces.
2025-12-26T11:12:33.632+07:00  INFO 31788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T11:12:33.653+07:00  INFO 31788 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T11:12:33.654+07:00  INFO 31788 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T11:12:33.749+07:00  INFO 31788 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T11:12:33.749+07:00  INFO 31788 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3588 ms
2025-12-26T11:12:34.132+07:00  INFO 31788 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T11:12:34.288+07:00  INFO 31788 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T11:12:34.383+07:00  INFO 31788 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T11:12:34.811+07:00  INFO 31788 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T11:12:34.862+07:00  INFO 31788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T11:12:35.054+07:00  INFO 31788 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@626766fd
2025-12-26T11:12:35.057+07:00  INFO 31788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T11:12:35.191+07:00  WARN 31788 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T11:12:35.201+07:00  WARN 31788 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T11:12:35.238+07:00  INFO 31788 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T11:12:36.752+07:00  INFO 31788 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T11:12:37.503+07:00 DEBUG 31788 --- [main] org.hibernate.SQL                        : 
    alter table loans 
       modify column status enum ('ACTIVE','OVERDUE','RETURNED') not null
2025-12-26T11:12:37.511+07:00 DEBUG 31788 --- [main] org.hibernate.SQL                        : 
    alter table renewal_requests 
       modify column status enum ('APPROVED','PENDING','REJECTED') not null
2025-12-26T11:12:37.518+07:00 DEBUG 31788 --- [main] org.hibernate.SQL                        : 
    alter table reservations 
       modify column status enum ('ACTIVE','CANCELLED','EXPIRED','FULFILLED') not null
2025-12-26T11:12:37.599+07:00  INFO 31788 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:12:37.889+07:00  INFO 31788 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T11:12:38.489+07:00 DEBUG 31788 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-26T11:12:38.489+07:00 DEBUG 31788 --- [main] c.i.lms.configuration.JwtRequestFilter   : Filter 'jwtRequestFilter' configured for use
2025-12-26T11:12:40.138+07:00  INFO 31788 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T11:12:40.138+07:00  WARN 31788 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T11:12:41.555+07:00 DEBUG 31788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 69 mappings in 'requestMappingHandlerMapping'
2025-12-26T11:12:41.634+07:00 DEBUG 31788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T11:12:41.845+07:00  INFO 31788 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T11:12:42.074+07:00 DEBUG 31788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T11:12:42.234+07:00 DEBUG 31788 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T11:12:42.309+07:00 DEBUG 31788 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T11:12:43.414+07:00  INFO 31788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T11:12:43.449+07:00  INFO 31788 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 14.052 seconds (process running for 14.513)
2025-12-26T11:12:43.659+07:00 DEBUG 31788 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:12:43.734+07:00 DEBUG 31788 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:12:43.740+07:00 DEBUG 31788 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:12:43.768+07:00 DEBUG 31788 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:12:51.795+07:00  INFO 31788 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T11:12:51.796+07:00  INFO 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T11:12:51.796+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T11:12:51.797+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T11:12:51.797+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T11:12:51.798+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@220248ad
2025-12-26T11:12:51.798+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6d532813
2025-12-26T11:12:51.798+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T11:12:51.798+07:00  INFO 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-12-26T11:12:51.827+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-12-26T11:12:51.837+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:12:51.851+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-12-26T11:12:51.856+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-12-26T11:12:51.859+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-12-26T11:12:51.864+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-12-26T11:12:51.871+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.ibizabroker.lms.controller.ApiExceptionHandler#handleOther(Exception)
2025-12-26T11:12:51.921+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:12:51.923+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message= xy ra li khng mong mun t my ch.}]
2025-12-26T11:12:51.947+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/login.]
2025-12-26T11:12:51.949+07:00 DEBUG 31788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-26T11:14:36.585+07:00  INFO 31788 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T11:14:36.592+07:00  INFO 31788 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T11:14:36.621+07:00  INFO 31788 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:14:36.624+07:00  INFO 31788 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T11:14:36.637+07:00  INFO 31788 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T11:15:05.042+07:00  INFO 4132 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 4132 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T11:15:05.042+07:00 DEBUG 4132 --- [main] c.i.lms.LibraryManagementApplication     : Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-26T11:15:05.042+07:00  INFO 4132 --- [main] c.i.lms.LibraryManagementApplication     : The following 1 profile is active: "dev"
2025-12-26T11:15:07.325+07:00  INFO 4132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:15:07.325+07:00  INFO 4132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T11:15:07.583+07:00  INFO 4132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 241 ms. Found 14 JPA repository interfaces.
2025-12-26T11:15:07.611+07:00  INFO 4132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:15:07.616+07:00  INFO 4132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T11:15:07.649+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.651+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.651+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.651+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.651+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.651+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.651+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.657+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.658+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.659+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.659+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.659+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.660+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.660+07:00  INFO 4132 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:15:07.661+07:00  INFO 4132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-12-26T11:15:08.585+07:00  INFO 4132 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T11:15:08.614+07:00  INFO 4132 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T11:15:08.614+07:00  INFO 4132 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T11:15:08.727+07:00  INFO 4132 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T11:15:08.729+07:00  INFO 4132 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3638 ms
2025-12-26T11:15:09.037+07:00  INFO 4132 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T11:15:09.120+07:00  INFO 4132 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T11:15:09.164+07:00  INFO 4132 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T11:15:09.504+07:00  INFO 4132 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T11:15:09.568+07:00  INFO 4132 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T11:15:10.107+07:00  INFO 4132 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e1fd2bf
2025-12-26T11:15:10.109+07:00  INFO 4132 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T11:15:10.214+07:00  WARN 4132 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T11:15:10.217+07:00  WARN 4132 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T11:15:10.248+07:00  INFO 4132 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T11:15:11.965+07:00  INFO 4132 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T11:15:12.361+07:00 DEBUG 4132 --- [main] org.hibernate.SQL                        : 
    alter table loans 
       modify column status enum ('ACTIVE','OVERDUE','RETURNED') not null
2025-12-26T11:15:12.361+07:00 DEBUG 4132 --- [main] org.hibernate.SQL                        : 
    alter table renewal_requests 
       modify column status enum ('APPROVED','PENDING','REJECTED') not null
2025-12-26T11:15:12.379+07:00 DEBUG 4132 --- [main] org.hibernate.SQL                        : 
    alter table reservations 
       modify column status enum ('ACTIVE','CANCELLED','EXPIRED','FULFILLED') not null
2025-12-26T11:15:12.496+07:00  INFO 4132 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:15:12.971+07:00  INFO 4132 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T11:15:13.642+07:00 DEBUG 4132 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-26T11:15:13.642+07:00 DEBUG 4132 --- [main] c.i.lms.configuration.JwtRequestFilter   : Filter 'jwtRequestFilter' configured for use
2025-12-26T11:15:15.206+07:00  INFO 4132 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T11:15:15.206+07:00  WARN 4132 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T11:15:16.934+07:00 DEBUG 4132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 69 mappings in 'requestMappingHandlerMapping'
2025-12-26T11:15:17.012+07:00 DEBUG 4132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T11:15:17.303+07:00  INFO 4132 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T11:15:17.585+07:00 DEBUG 4132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T11:15:17.774+07:00 DEBUG 4132 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T11:15:17.864+07:00 DEBUG 4132 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T11:15:18.697+07:00  INFO 4132 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T11:15:18.735+07:00  INFO 4132 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 14.458 seconds (process running for 14.974)
2025-12-26T11:15:19.013+07:00 DEBUG 4132 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:15:19.052+07:00 DEBUG 4132 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:15:19.052+07:00 DEBUG 4132 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:15:19.076+07:00 DEBUG 4132 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:15:55.491+07:00  INFO 4132 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T11:15:55.498+07:00  INFO 4132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T11:15:55.499+07:00 DEBUG 4132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T11:15:55.500+07:00 DEBUG 4132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T11:15:55.500+07:00 DEBUG 4132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T11:15:55.521+07:00 DEBUG 4132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e6775fd
2025-12-26T11:15:55.524+07:00 DEBUG 4132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2918e3d7
2025-12-26T11:15:55.525+07:00 DEBUG 4132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T11:15:55.525+07:00  INFO 4132 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 27 ms
2025-12-26T11:15:55.604+07:00 DEBUG 4132 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/authenticate
2025-12-26T11:15:55.696+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/authenticate
2025-12-26T11:15:55.696+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:15:55.728+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/authenticate
2025-12-26T11:15:55.733+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/authenticate", parameters={}
2025-12-26T11:15:55.748+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AuthController#authenticate(LoginRequest)
2025-12-26T11:15:55.946+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest[username=admin, password=admin123]]
2025-12-26T11:15:56.612+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:15:56.628+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:15:56.862+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-12-26T11:15:56.879+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    left join
        user_role r1_0 
            on u1_0.user_id=r1_0.user_id 
    left join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        lower(u1_0.username)=lower(?)
2025-12-26T11:15:57.195+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T11:15:57.230+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse[token=eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsInJvbGVzIjpbIlJPTEVfQURNSU4iXSwic3ViIjoiYWR (truncated)...]
2025-12-26T11:15:57.252+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:15:57.300+07:00 DEBUG 4132 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:15:57.301+07:00 DEBUG 4132 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:15:57.331+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:15:57.336+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:15:57.512+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:15:57.535+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:15:57.586+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:15:57.647+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:15:57.826+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:15:57.843+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:15:57.846+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:15:57.846+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:15:57.863+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:15:57.883+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:15:57.883+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:15:57.905+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:15:57.967+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:15:57.967+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:15:58.047+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:15:58.094+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:15:58.135+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:15:58.152+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:15:58.154+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:15:58.191+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:15:58.212+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:15:58.237+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:15:58.244+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:15:58.246+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:15:58.265+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:15:58.265+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:15:58.287+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:15:58.293+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@7309bc66, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:15:58.293+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:15:58.320+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:15:58.353+07:00 DEBUG 4132 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:15:58.353+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:15:58.353+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@1bbab992]
2025-12-26T11:15:58.382+07:00 DEBUG 4132 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:16:02.464+07:00 DEBUG 4132 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:16:02.465+07:00 DEBUG 4132 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:16:02.528+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:16:02.530+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:16:02.596+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:16:02.596+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:16:02.631+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:16:02.631+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:16:02.664+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:16:02.670+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:16:02.690+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:16:02.696+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:16:02.696+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:16:02.696+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:16:02.713+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:16:02.713+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:16:02.713+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:16:02.713+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:16:02.733+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:16:02.735+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:16:02.748+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:16:02.748+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:16:02.748+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:16:02.762+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:16:02.766+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:16:02.771+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:16:02.773+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:16:02.775+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@1d61320a, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:16:02.781+07:00 DEBUG 4132 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:16:02.783+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:16:02.792+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:16:02.796+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:16:02.811+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:16:02.812+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:16:02.832+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:16:02.848+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:16:02.871+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@ff4b706]
2025-12-26T11:16:02.879+07:00 DEBUG 4132 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:16:19.612+07:00 DEBUG 4132 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/chat
2025-12-26T11:16:19.618+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/user/chat
2025-12-26T11:16:19.651+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:16:19.667+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:16:19.699+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/user/chat
2025-12-26T11:16:19.704+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/user/chat", parameters={}
2025-12-26T11:16:19.705+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ChatbotController#ask(ChatRequestDto)
2025-12-26T11:16:19.727+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.ChatRequestDto@711a74ee]
2025-12-26T11:16:19.810+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:16:19.815+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:16:19.816+07:00  INFO 4132 --- [http-nio-8080-exec-4] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:16:19.821+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:16:21.179+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    SELECT
        * 
    FROM
        chat_messages 
    WHERE
        conversation_id = ? 
    ORDER BY
        created_at DESC 
    LIMIT
        5
2025-12-26T11:16:21.270+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAJW8Tc28poQqYF0eKU2qoSsTjiIbPI5zQ
2025-12-26T11:16:21.276+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-12-26T11:16:21.283+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Writing [{contents=[Ljava.lang.Object;@300a4a8e}] as "application/json"
2025-12-26T11:16:25.445+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-26T11:16:25.445+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-12-26T11:16:25.518+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        chat_messages
        (bot_response, conversation_id, created_at, user_id, user_message) 
    values
        (?, ?, ?, ?, ?)
2025-12-26T11:16:25.565+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-26T11:16:25.565+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{"answer":"Cho bn! Mnh hiu bn ang tm thng tin v sch Ng vn 6 tp 1 ca b Chn tri sng  (truncated)..."]
2025-12-26T11:16:25.565+07:00 DEBUG 4132 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:17:46.568+07:00  INFO 4132 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T11:17:46.574+07:00  INFO 4132 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T11:17:46.629+07:00  INFO 4132 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:17:46.629+07:00  INFO 4132 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T11:17:46.655+07:00  INFO 4132 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T11:18:37.604+07:00  INFO 27056 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 27056 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T11:18:37.609+07:00 DEBUG 27056 --- [main] c.i.lms.LibraryManagementApplication     : Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-26T11:18:37.609+07:00  INFO 27056 --- [main] c.i.lms.LibraryManagementApplication     : The following 1 profile is active: "dev"
2025-12-26T11:18:43.579+07:00  INFO 27056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:18:43.584+07:00  INFO 27056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T11:18:44.066+07:00  INFO 27056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 444 ms. Found 14 JPA repository interfaces.
2025-12-26T11:18:44.117+07:00  INFO 27056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:18:44.121+07:00  INFO 27056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T11:18:44.176+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.182+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.183+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.187+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.189+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.190+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.193+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.195+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.201+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.203+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.205+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.207+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.210+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.215+07:00  INFO 27056 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:18:44.217+07:00  INFO 27056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 0 Redis repository interfaces.
2025-12-26T11:18:46.623+07:00  INFO 27056 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T11:18:46.652+07:00  INFO 27056 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T11:18:46.654+07:00  INFO 27056 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T11:18:46.852+07:00  INFO 27056 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T11:18:46.854+07:00  INFO 27056 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9096 ms
2025-12-26T11:18:48.293+07:00  INFO 27056 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T11:18:48.466+07:00  INFO 27056 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T11:18:48.580+07:00  INFO 27056 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T11:18:49.595+07:00  INFO 27056 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T11:18:49.697+07:00  INFO 27056 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T11:18:50.110+07:00  INFO 27056 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@70f5f57d
2025-12-26T11:18:50.121+07:00  INFO 27056 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T11:18:50.628+07:00  WARN 27056 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T11:18:50.652+07:00  WARN 27056 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T11:18:50.771+07:00  INFO 27056 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T11:18:55.153+07:00  INFO 27056 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T11:18:55.518+07:00 DEBUG 27056 --- [main] org.hibernate.SQL                        : 
    alter table loans 
       modify column status enum ('ACTIVE','OVERDUE','RETURNED') not null
2025-12-26T11:18:55.536+07:00 DEBUG 27056 --- [main] org.hibernate.SQL                        : 
    alter table renewal_requests 
       modify column status enum ('APPROVED','PENDING','REJECTED') not null
2025-12-26T11:18:55.551+07:00 DEBUG 27056 --- [main] org.hibernate.SQL                        : 
    alter table reservations 
       modify column status enum ('ACTIVE','CANCELLED','EXPIRED','FULFILLED') not null
2025-12-26T11:18:55.691+07:00  INFO 27056 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:18:56.812+07:00  INFO 27056 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T11:18:58.595+07:00 DEBUG 27056 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-26T11:18:58.597+07:00 DEBUG 27056 --- [main] c.i.lms.configuration.JwtRequestFilter   : Filter 'jwtRequestFilter' configured for use
2025-12-26T11:19:05.090+07:00  INFO 27056 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T11:19:05.093+07:00  WARN 27056 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T11:19:08.937+07:00 DEBUG 27056 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 69 mappings in 'requestMappingHandlerMapping'
2025-12-26T11:19:09.194+07:00 DEBUG 27056 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T11:19:09.976+07:00  INFO 27056 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T11:19:10.346+07:00 DEBUG 27056 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T11:19:10.654+07:00 DEBUG 27056 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T11:19:10.848+07:00 DEBUG 27056 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T11:19:13.281+07:00  INFO 27056 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T11:19:13.330+07:00  INFO 27056 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 38.212 seconds (process running for 40.308)
2025-12-26T11:19:13.681+07:00 DEBUG 27056 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:19:13.853+07:00 DEBUG 27056 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:19:13.986+07:00 DEBUG 27056 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:19:14.165+07:00 DEBUG 27056 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:19:51.010+07:00  INFO 27056 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T11:19:51.027+07:00  INFO 27056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T11:19:51.045+07:00 DEBUG 27056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T11:19:51.150+07:00 DEBUG 27056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T11:19:51.209+07:00 DEBUG 27056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T11:19:51.244+07:00 DEBUG 27056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@220248ad
2025-12-26T11:19:51.258+07:00 DEBUG 27056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6d532813
2025-12-26T11:19:51.280+07:00 DEBUG 27056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T11:19:51.294+07:00  INFO 27056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 249 ms
2025-12-26T11:19:51.425+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:19:51.425+07:00 DEBUG 27056 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:19:51.522+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:19:51.522+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:19:51.758+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:19:51.758+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:19:51.775+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:19:51.775+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:19:51.900+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:19:51.900+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:19:51.906+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:19:51.906+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:19:51.912+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:19:51.912+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:19:51.942+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:19:51.942+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:19:51.965+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:19:51.965+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:19:52.006+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:19:52.014+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:19:52.032+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:19:52.032+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:19:52.069+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:19:52.081+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:19:52.103+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:19:52.135+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:19:52.135+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:19:52.135+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:19:52.148+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:19:52.152+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:19:52.162+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:19:52.172+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:19:52.183+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:19:52.191+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@743d9e30, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:19:52.259+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:19:52.263+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@11da5923]
2025-12-26T11:19:52.263+07:00 DEBUG 27056 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:19:52.282+07:00 DEBUG 27056 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:19:58.750+07:00 DEBUG 27056 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/authenticate
2025-12-26T11:19:58.758+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/authenticate
2025-12-26T11:19:58.758+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:19:58.758+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/authenticate
2025-12-26T11:19:58.758+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/authenticate", parameters={}
2025-12-26T11:19:58.758+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AuthController#authenticate(LoginRequest)
2025-12-26T11:19:58.875+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest[username=admin, password=admin123]]
2025-12-26T11:19:59.275+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:19:59.292+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:19:59.508+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-12-26T11:19:59.525+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        distinct u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    left join
        user_role r1_0 
            on u1_0.user_id=r1_0.user_id 
    left join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        lower(u1_0.username)=lower(?)
2025-12-26T11:19:59.613+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T11:19:59.619+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse[token=eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsInJvbGVzIjpbIlJPTEVfQURNSU4iXSwic3ViIjoiYWR (truncated)...]
2025-12-26T11:19:59.653+07:00 DEBUG 27056 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:19:59.731+07:00 DEBUG 27056 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:19:59.735+07:00 DEBUG 27056 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:19:59.812+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:19:59.812+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:19:59.844+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:19:59.859+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:19:59.879+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:19:59.916+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:19:59.976+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:19:59.976+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:19:59.995+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:19:59.995+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:20:00.009+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:20:00.009+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:20:00.009+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:20:00.028+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:20:00.045+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:20:00.059+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:20:00.059+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:20:00.092+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:20:00.108+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:20:00.125+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:20:00.142+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:20:00.175+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:20:00.196+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:20:00.208+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:20:00.208+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:20:00.225+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@4574a021, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:20:00.241+07:00 DEBUG 27056 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:20:00.241+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:20:00.296+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:20:00.328+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:20:00.338+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:20:00.349+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:20:00.364+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:20:00.375+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:20:00.378+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@492e0a14]
2025-12-26T11:20:00.384+07:00 DEBUG 27056 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:20:04.712+07:00 DEBUG 27056 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/chat
2025-12-26T11:20:04.752+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/user/chat
2025-12-26T11:20:04.810+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:20:04.842+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:20:04.892+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/user/chat
2025-12-26T11:20:04.892+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/user/chat", parameters={}
2025-12-26T11:20:04.892+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ChatbotController#ask(ChatRequestDto)
2025-12-26T11:20:04.909+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.ChatRequestDto@245d31ed]
2025-12-26T11:20:05.025+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:20:05.025+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:20:05.025+07:00  INFO 27056 --- [http-nio-8080-exec-4] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:20:05.025+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:20:06.191+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    SELECT
        * 
    FROM
        chat_messages 
    WHERE
        conversation_id = ? 
    ORDER BY
        created_at DESC 
    LIMIT
        5
2025-12-26T11:20:06.306+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAJW8Tc28poQqYF0eKU2qoSsTjiIbPI5zQ
2025-12-26T11:20:06.308+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-12-26T11:20:06.326+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Writing [{contents=[Ljava.lang.Object;@1f140c5e}] as "application/json"
2025-12-26T11:20:12.241+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-26T11:20:12.258+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-12-26T11:20:12.374+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        chat_messages
        (bot_response, conversation_id, created_at, user_id, user_message) 
    values
        (?, ?, ?, ?, ?)
2025-12-26T11:20:12.427+07:00  INFO 27056 --- [http-nio-8080-exec-4] c.i.lms.controller.ChatbotController     :  Chatbot response (length=921): {"answer":"Cho bn! Mnh hiu bn ang mun tm hiu v s lng sch Ng vn 6 tp 1 (CTST - Chng trnh sng to) hin c  th vin mnh ng khng?\n\nL mt Tr l AI, mnh rt tic l mnh khng th kim tra chnh xc s lng sch hin c trong kho th vin vo lc ny c. D liu tn kho sch thng xuyn thay i khi cc bn mn v tr sch .\n\n bit c s lng chnh xc nht v m bo sch cn  bn mn, mnh khuyn khch bn gh trc tip th vin hoc hi cc thy c ...
2025-12-26T11:20:12.427+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-26T11:20:12.427+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{"answer":"Cho bn! Mnh hiu bn ang mun tm hiu v s lng sch Ng vn 6 tp 1 (CTST - Chn (truncated)..."]
2025-12-26T11:20:12.427+07:00 DEBUG 27056 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:21:20.190+07:00  INFO 27056 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T11:21:20.206+07:00  INFO 27056 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T11:21:20.254+07:00  INFO 27056 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:21:20.259+07:00  INFO 27056 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T11:21:20.266+07:00  INFO 27056 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T11:21:35.624+07:00  INFO 20236 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 20236 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T11:21:35.627+07:00 DEBUG 20236 --- [main] c.i.lms.LibraryManagementApplication     : Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-26T11:21:35.629+07:00  INFO 20236 --- [main] c.i.lms.LibraryManagementApplication     : The following 1 profile is active: "dev"
2025-12-26T11:21:37.481+07:00  INFO 20236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:21:37.489+07:00  INFO 20236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T11:21:37.915+07:00  INFO 20236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 380 ms. Found 14 JPA repository interfaces.
2025-12-26T11:21:37.941+07:00  INFO 20236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:21:37.950+07:00  INFO 20236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T11:21:37.990+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:37.992+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:37.993+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:37.993+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:37.993+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:37.993+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:37.993+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:37.993+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:37.998+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:38.000+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:38.002+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:38.002+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:38.004+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:38.006+07:00  INFO 20236 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:21:38.007+07:00  INFO 20236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-12-26T11:21:38.851+07:00  INFO 20236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T11:21:38.874+07:00  INFO 20236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T11:21:38.874+07:00  INFO 20236 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T11:21:39.022+07:00  INFO 20236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T11:21:39.022+07:00  INFO 20236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3331 ms
2025-12-26T11:21:39.448+07:00  INFO 20236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T11:21:39.512+07:00  INFO 20236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T11:21:39.569+07:00  INFO 20236 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T11:21:39.939+07:00  INFO 20236 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T11:21:39.990+07:00  INFO 20236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T11:21:40.214+07:00  INFO 20236 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8e8ceb3
2025-12-26T11:21:40.220+07:00  INFO 20236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T11:21:40.294+07:00  WARN 20236 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T11:21:40.301+07:00  WARN 20236 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T11:21:40.323+07:00  INFO 20236 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T11:21:42.194+07:00  INFO 20236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T11:21:42.617+07:00 DEBUG 20236 --- [main] org.hibernate.SQL                        : 
    alter table loans 
       modify column status enum ('ACTIVE','OVERDUE','RETURNED') not null
2025-12-26T11:21:42.617+07:00 DEBUG 20236 --- [main] org.hibernate.SQL                        : 
    alter table renewal_requests 
       modify column status enum ('APPROVED','PENDING','REJECTED') not null
2025-12-26T11:21:42.633+07:00 DEBUG 20236 --- [main] org.hibernate.SQL                        : 
    alter table reservations 
       modify column status enum ('ACTIVE','CANCELLED','EXPIRED','FULFILLED') not null
2025-12-26T11:21:42.727+07:00  INFO 20236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:21:43.027+07:00  INFO 20236 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T11:21:43.821+07:00 DEBUG 20236 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-26T11:21:43.823+07:00 DEBUG 20236 --- [main] c.i.lms.configuration.JwtRequestFilter   : Filter 'jwtRequestFilter' configured for use
2025-12-26T11:21:45.285+07:00  INFO 20236 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T11:21:45.287+07:00  WARN 20236 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T11:21:46.740+07:00 DEBUG 20236 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 69 mappings in 'requestMappingHandlerMapping'
2025-12-26T11:21:46.793+07:00 DEBUG 20236 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T11:21:46.971+07:00  INFO 20236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T11:21:47.168+07:00 DEBUG 20236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T11:21:47.328+07:00 DEBUG 20236 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T11:21:47.422+07:00 DEBUG 20236 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T11:21:48.518+07:00  INFO 20236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T11:21:48.541+07:00  INFO 20236 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 13.68 seconds (process running for 14.134)
2025-12-26T11:21:48.771+07:00 DEBUG 20236 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:21:48.843+07:00 DEBUG 20236 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:21:48.848+07:00 DEBUG 20236 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:21:48.885+07:00 DEBUG 20236 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:21:59.789+07:00  INFO 20236 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T11:21:59.789+07:00  INFO 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T11:21:59.789+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T11:21:59.789+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T11:21:59.789+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T11:21:59.789+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@36d49430
2025-12-26T11:21:59.805+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4eb0f3ed
2025-12-26T11:21:59.806+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T11:21:59.806+07:00  INFO 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2025-12-26T11:21:59.903+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/authenticate
2025-12-26T11:22:00.039+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/authenticate
2025-12-26T11:22:00.084+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:22:00.093+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/authenticate
2025-12-26T11:22:00.129+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/authenticate", parameters={}
2025-12-26T11:22:00.143+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AuthController#authenticate(LoginRequest)
2025-12-26T11:22:00.973+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest[username=admin, password=admin123]]
2025-12-26T11:22:01.202+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:22:01.214+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:22:01.439+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-12-26T11:22:01.476+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        distinct u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    left join
        user_role r1_0 
            on u1_0.user_id=r1_0.user_id 
    left join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        lower(u1_0.username)=lower(?)
2025-12-26T11:22:01.756+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T11:22:01.789+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse[token=eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsInJvbGVzIjpbIlJPTEVfQURNSU4iXSwic3ViIjoiYWR (truncated)...]
2025-12-26T11:22:01.867+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:22:01.959+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:22:01.973+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:22:02.125+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:22:02.175+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:22:02.358+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:22:02.358+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:22:02.358+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:22:02.358+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:22:02.391+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:22:02.391+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:22:02.391+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:22:02.391+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:22:02.391+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:22:02.391+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:22:02.406+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:22:02.409+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:22:02.426+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:22:02.426+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:22:02.472+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:22:02.476+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:22:02.494+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:22:02.514+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:22:02.520+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:22:02.540+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:22:02.555+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:22:02.576+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:22:02.576+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:22:02.592+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:22:02.592+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:22:02.592+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:22:02.610+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:22:02.610+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:22:02.610+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@690a669f, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:22:02.626+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:22:02.643+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:22:02.643+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@484fbd2d]
2025-12-26T11:22:02.643+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:22:02.660+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:22:07.990+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:22:07.993+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:22:08.021+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:22:08.031+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:22:08.060+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:22:08.060+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:22:08.074+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:22:08.091+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:22:08.109+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:22:08.114+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:22:08.118+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:22:08.121+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:22:08.124+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:22:08.125+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:22:08.128+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:22:08.128+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:22:08.131+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:22:08.132+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:22:08.136+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:22:08.138+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:22:08.138+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:22:08.154+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:22:08.155+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:22:08.155+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:22:08.176+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:22:08.176+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:22:08.176+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@238ab60e, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:22:08.176+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:22:08.176+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:22:08.191+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:22:08.191+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:22:08.209+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:22:08.209+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:22:08.222+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:22:08.240+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:22:08.242+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:22:08.242+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@5baefcaa]
2025-12-26T11:22:08.242+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:22:11.855+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/chat
2025-12-26T11:22:11.861+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/user/chat
2025-12-26T11:22:11.872+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:22:11.872+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:22:11.889+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/user/chat
2025-12-26T11:22:11.889+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/user/chat", parameters={}
2025-12-26T11:22:11.907+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ChatbotController#ask(ChatRequestDto)
2025-12-26T11:22:11.935+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.ChatRequestDto@33667846]
2025-12-26T11:22:12.007+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:22:12.007+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:22:12.007+07:00  INFO 20236 --- [http-nio-8080-exec-3] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:22:12.007+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:22:13.522+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    SELECT
        * 
    FROM
        chat_messages 
    WHERE
        conversation_id = ? 
    ORDER BY
        created_at DESC 
    LIMIT
        5
2025-12-26T11:22:13.955+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAJW8Tc28poQqYF0eKU2qoSsTjiIbPI5zQ
2025-12-26T11:22:13.972+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-12-26T11:22:13.972+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Writing [{contents=[Ljava.lang.Object;@585d9c97}] as "application/json"
2025-12-26T11:22:19.756+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-26T11:22:19.772+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-12-26T11:22:19.856+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        chat_messages
        (bot_response, conversation_id, created_at, user_id, user_message) 
    values
        (?, ?, ?, ?, ?)
2025-12-26T11:22:19.891+07:00  INFO 20236 --- [http-nio-8080-exec-3] c.i.lms.controller.ChatbotController     :  Chatbot response (length=758): {"answer":"Cho bn! Bn ang tm sch gio khoa Ng vn 6, tp 1, b Chn tri sng to phi khng?  l mt cun sch rt quan trng cho vic hc Ng vn  lp 6 y!\n\nHin ti, mnh l tr l AI nn khng th kim tra trc tip s lng sch cn trong kho ngay lc ny c. Th vin mnh c rt nhiu sch gio khoa, nhng i khi cc bn mn ht th mnh cn thi gian  b sung hoc i cc bn tr sch v.\n\n bit chnh xc sch cn hay  ht, hoc c th mn c lun khng, bn hy gh thm Th vin Trng mnh nh. Cc c/ch th th s h tr bn kim tra v tm sch nhanh nht !\n\nNu bn c cu hi g khc v sch hay quy nh th vin, c hi mnh nha! ","conversationId":"0c92e22f-ade3-4da8-a56f-db0c3ed08a5f","status":"ok"}
2025-12-26T11:22:19.908+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-26T11:22:19.910+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{"answer":"Cho bn! Bn ang tm sch gio khoa Ng vn 6, tp 1, b Chn tri sng to phi khng? (truncated)..."]
2025-12-26T11:22:19.915+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:23:27.759+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:23:27.772+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:23:27.779+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:23:27.779+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:23:27.784+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:23:27.785+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:23:27.788+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:23:27.788+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:23:27.796+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:23:27.796+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:23:27.797+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:23:27.797+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:23:27.797+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:23:27.798+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:23:27.798+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:23:27.811+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:23:27.811+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:23:27.812+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:23:27.812+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:23:27.815+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:23:27.816+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:23:27.818+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:23:27.819+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:23:27.822+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:23:27.825+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:27.825+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:23:27.825+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@9e269c5, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE=0 (truncated)...]
2025-12-26T11:23:27.827+07:00 DEBUG 20236 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:23:27.829+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:27.832+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:23:27.835+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:23:27.838+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:23:27.839+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:23:27.853+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:23:27.860+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:27.865+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:23:27.866+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@3ad35bd9]
2025-12-26T11:23:27.867+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:23:51.397+07:00 DEBUG 20236 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:23:51.397+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:23:51.662+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:23:51.662+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:23:51.705+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:23:51.736+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:23:51.773+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:23:51.773+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:23:51.856+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:23:51.871+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:23:51.879+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:23:51.879+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:23:51.888+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:23:51.888+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:23:51.888+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:23:51.888+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:23:51.905+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:23:51.905+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:23:51.905+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:23:51.905+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:23:51.922+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:23:51.939+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:23:51.941+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:51.954+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:23:51.954+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:51.974+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:23:51.974+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:23:51.974+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:23:51.989+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@6219ab4, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE=0 (truncated)...]
2025-12-26T11:23:51.989+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:23:51.989+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:23:51.989+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:23:52.008+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:23:52.008+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:23:52.023+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:52.041+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:23:52.041+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@5a6ba90d]
2025-12-26T11:23:52.041+07:00 DEBUG 20236 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:23:54.850+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:23:54.851+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:23:54.913+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:23:54.924+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:23:54.975+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:23:55.025+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:23:55.029+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:23:55.036+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:23:55.057+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:23:55.074+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:23:55.074+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:23:55.074+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:23:55.074+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:23:55.090+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:23:55.095+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:23:55.098+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:23:55.107+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:23:55.107+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:23:55.107+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:23:55.107+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:23:55.124+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:23:55.137+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:23:55.137+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:23:55.141+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:23:55.150+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:23:55.151+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:55.155+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@100c30b8, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:23:55.165+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:55.166+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:23:55.172+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:23:55.181+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:23:55.193+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:23:55.200+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:23:55.205+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:23:55.216+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:23:55.223+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:23:55.226+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@1fda6ab9]
2025-12-26T11:23:55.231+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:24:24.492+07:00 DEBUG 20236 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/chat
2025-12-26T11:24:24.506+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/user/chat
2025-12-26T11:24:24.674+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:24:24.739+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:24:24.850+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/user/chat
2025-12-26T11:24:24.871+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/user/chat", parameters={}
2025-12-26T11:24:24.889+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ChatbotController#ask(ChatRequestDto)
2025-12-26T11:24:24.907+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.ChatRequestDto@160b9d9f]
2025-12-26T11:24:24.924+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:24:24.939+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:24:24.939+07:00  INFO 20236 --- [http-nio-8080-exec-7] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:24:24.949+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:24:24.973+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    SELECT
        * 
    FROM
        chat_messages 
    WHERE
        conversation_id = ? 
    ORDER BY
        created_at DESC 
    LIMIT
        5
2025-12-26T11:24:24.995+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : HTTP POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAJW8Tc28poQqYF0eKU2qoSsTjiIbPI5zQ
2025-12-26T11:24:24.997+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-12-26T11:24:24.998+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Writing [{contents=[Ljava.lang.Object;@23beffe8}] as "application/json"
2025-12-26T11:24:30.970+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-26T11:24:30.970+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-12-26T11:24:30.986+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        chat_messages
        (bot_response, conversation_id, created_at, user_id, user_message) 
    values
        (?, ?, ?, ?, ?)
2025-12-26T11:24:31.014+07:00  INFO 20236 --- [http-nio-8080-exec-7] c.i.lms.controller.ChatbotController     :  Chatbot response (length=604): {"answer":"Cho bn! Bn ang tm Sch gio khoa Ng vn lp 6 tp 1 theo chng trnh CTST ng khng nh?\n\nV s lng c th hin c trong th vin, mnh khng th kim tra trc tuyn ngay c bn .  bit chnh xc nht l hin th vin cn bao nhiu cun v bn c th mn c lun khng, bn hy gh thm th vin ca trng mnh nh!\n\nTh vin m ca t 7h30 n 16h30, t Th 2 n Th 6 . Khi n, bn ch cn hi cc c/thy th th l s c hng dn ngay nh. Mong bn sm tm c sch  hc tp tht tt!","conversationId":"4317c11e-033c-4665-8dd7-fd6effa8264e","status":"ok"}
2025-12-26T11:24:31.024+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-26T11:24:31.024+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{"answer":"Cho bn! Bn ang tm Sch gio khoa Ng vn lp 6 tp 1 theo chng trnh CTST ng kh (truncated)..."]
2025-12-26T11:24:31.024+07:00 DEBUG 20236 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:25:15.841+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/chat
2025-12-26T11:25:15.846+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/user/chat
2025-12-26T11:25:15.869+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:25:15.885+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:25:15.937+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/user/chat
2025-12-26T11:25:15.941+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/user/chat", parameters={}
2025-12-26T11:25:15.941+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ChatbotController#ask(ChatRequestDto)
2025-12-26T11:25:15.941+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.ChatRequestDto@25354115]
2025-12-26T11:25:15.941+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:25:15.941+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:25:15.941+07:00  INFO 20236 --- [http-nio-8080-exec-9] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:25:15.956+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:25:15.994+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : HTTP POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAJW8Tc28poQqYF0eKU2qoSsTjiIbPI5zQ
2025-12-26T11:25:15.995+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-12-26T11:25:15.996+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Writing [{contents=[Ljava.lang.Object;@6bcf5d11}] as "application/json"
2025-12-26T11:25:20.015+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-26T11:25:20.020+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-12-26T11:25:20.020+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        chat_messages
        (bot_response, conversation_id, created_at, user_id, user_message) 
    values
        (?, ?, ?, ?, ?)
2025-12-26T11:25:20.047+07:00  INFO 20236 --- [http-nio-8080-exec-9] c.i.lms.controller.ChatbotController     :  Chatbot response (length=1055): {"answer":"Cho bn! A, bn ang mun tm hiu v b truyn Harry Potter ni ting ng khng no?\n\nHarry Potter l mt b tiu thuyt gi tng v cng ni ting ca nh vn J.K. Rowling, k v cuc phiu lu ca cu b ph thy Harry Potter v hai ngi bn thn Ron Weasley, Hermione Granger trong th gii php thut. C ba hc ti trng Ph thy v Php s Hogwarts v phi i mt vi Cha t Voldemort tn c.\n\nB truyn ny ni ting vi th gii php thut y m hoc, nhng tnh bn p, lng dng cm v cuc chin chng li ci c. N  lm say m hng triu c gi trn khp th gii v rt c cc bn hc sinh yu thch !\n\nBn mun tm hiu thm v cun no trong series hay mun bit th vin mnh c nhng tp Harry Potter no khng? Nu c hng th, bn hy gh thm th vin  tm c nh! Mnh tin l bn s b cun ht vo th gii php thut y k diu ny y.\n\nTh vin m ca t 7h30 n 16h30, t Th 2 n Th 6 nha. Rt mong c n bn!","conversationId":"4317c11e-033c-4665-8dd7-fd6effa8264e","status":"ok"}
2025-12-26T11:25:20.053+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-26T11:25:20.053+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{"answer":"Cho bn! A, bn ang mun tm hiu v b truyn Harry Potter ni ting ng khng no?\n (truncated)..."]
2025-12-26T11:25:20.053+07:00 DEBUG 20236 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:28:33.750+07:00 DEBUG 20236 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/chat
2025-12-26T11:28:33.756+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/user/chat
2025-12-26T11:28:33.774+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:28:33.779+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:28:33.783+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/user/chat
2025-12-26T11:28:33.783+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/user/chat", parameters={}
2025-12-26T11:28:33.783+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ChatbotController#ask(ChatRequestDto)
2025-12-26T11:28:33.783+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.ChatRequestDto@22471dd9]
2025-12-26T11:28:33.783+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:28:33.783+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:28:33.783+07:00  INFO 20236 --- [http-nio-8080-exec-3] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:28:33.799+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:28:33.820+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAJW8Tc28poQqYF0eKU2qoSsTjiIbPI5zQ
2025-12-26T11:28:33.820+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-12-26T11:28:33.820+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Writing [{contents=[Ljava.lang.Object;@7317e91a}] as "application/json"
2025-12-26T11:28:45.299+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-26T11:28:45.299+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-12-26T11:28:45.299+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        chat_messages
        (bot_response, conversation_id, created_at, user_id, user_message) 
    values
        (?, ?, ?, ?, ?)
2025-12-26T11:28:45.316+07:00  INFO 20236 --- [http-nio-8080-exec-3] c.i.lms.controller.ChatbotController     :  Chatbot response (length=2547): {"answer":"Cho bn! Bn ang mun tm nhng cun sch hay  hc tt mn Vn phi khng? Tuyt vi qu! Mn Vn khng ch gip chng mnh trau di kh nng vit lch, cm th ci p m cn m rng tm hn na .\n\n hc tt mn Vn, mnh c mt vi gi  v cc loi sch m bn c th tm c ti th vin nh:\n\n1.  **Sch gio khoa v Sch bi tp Ng vn:** Chc chn ri, y l nn tng vng chc nht. c k sch gio khoa gip bn nm vng kin thc, cn sch bi tp gip bn luyn tp v cng c k nng.\n2.  **Sch tham kho, sch hng dn gii bi tp hoc tuyn tp cc bi vn mu, bi vn hay:** Nhng cun sch ny s cung cp cho bn nhiu gc nhn khc nhau v mt tc phm, gi  cch phn tch, lp dn  hoc pht trin  tng cho bi vit ca mnh. Bn c th tham kho cch hnh vn, dng t  lm phong ph hn cho bi vit ca mnh.\n3.  **Sch vn hc (c bit quan trng!):**  cm th v vit vn tt, khng c cch no hiu qu hn l c tht nhiu sch vn hc.\n    *   **Vn hc tui xanh:** Th vin mnh c rt nhiu tc phm ca cc nh vn c yu thch nh Nguyn Nht nh (V d: *Cho ti xin mt v i tui th, Ti thy hoa vng trn c xanh*...), hay cc tc phm truyn ngn, truyn di v tnh bn, tnh cm gia nh, khm ph bn thn... Khi c nhng cu chuyn ny, bn s c lm quen vi nhiu cch dng t ng, cch k chuyn v bi p cm xc.\n    *   **Vn hc Vit Nam v th gii:** c thm cc tc phm vn hc  c hc trong chng trnh Ng vn (bn y ) hoc cc tc phm kinh in ph hp la tui s gip bn hiu su hn v con ngi, x hi v cc gi tr vn ha.\n    *   **Truyn c tch, ng ngn, thn thoi:** Nhng cu chuyn ny khng ch th v m cn cha ng nhiu bi hc su sc, gip bn pht trin kh nng lin tng, sng to v bit cch k chuyn hp dn.\n4.  **Sch k nng c hiu, k nng vit:** i khi, nhng cun sch chuyn v k nng ny cng rt hu ch. Chng s hng dn bn cch phn tch mt vn bn, cch xy dng  tng, sp xp cu t  bi vit mch lc v thuyt phc hn.\n\n tm c nhng cun sch ng  nht v ph hp nht vi s thch cng nh chng trnh hc ca bn, mnh khuyn khch bn hy gh thm th vin ca trng mnh nh! Cc c/thy th th s rt vui lng t vn v gip bn tm kim .\n\nTh vin m ca t **7h30 n 16h30**, t **Th 2 n Th 6** hng tun. Rt mong c n bn n khm ph kho tng tri thc ny!","conversationId":"4317c11e-033c-4665-8dd7-fd6effa8264e","status":"ok"}
2025-12-26T11:28:45.316+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-26T11:28:45.332+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{"answer":"Cho bn! Bn ang mun tm nhng cun sch hay  hc tt mn Vn phi khng? Tuyt vi  (truncated)..."]
2025-12-26T11:28:45.333+07:00 DEBUG 20236 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:31:00.496+07:00 DEBUG 20236 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/chat
2025-12-26T11:31:00.496+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/user/chat
2025-12-26T11:31:00.518+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:31:00.538+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:31:00.550+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/user/chat
2025-12-26T11:31:00.551+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/user/chat", parameters={}
2025-12-26T11:31:00.552+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ChatbotController#ask(ChatRequestDto)
2025-12-26T11:31:00.555+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.ChatRequestDto@7327c6b3]
2025-12-26T11:31:00.556+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:31:00.558+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:31:00.559+07:00  INFO 20236 --- [http-nio-8080-exec-1] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:31:00.568+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:31:00.682+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAJW8Tc28poQqYF0eKU2qoSsTjiIbPI5zQ
2025-12-26T11:31:00.682+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-12-26T11:31:00.704+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Writing [{contents=[Ljava.lang.Object;@14930f57}] as "application/json"
2025-12-26T11:31:11.346+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-26T11:31:11.363+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-12-26T11:31:11.430+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        chat_messages
        (bot_response, conversation_id, created_at, user_id, user_message) 
    values
        (?, ?, ?, ?, ?)
2025-12-26T11:31:11.493+07:00  INFO 20236 --- [http-nio-8080-exec-1] c.i.lms.controller.ChatbotController     :  Chatbot response (length=2332): {"answer":"Cho bn! Bn ang tm nhng cun tiu thuyt gi tng (Fantasy) ni ting  m chm vo th gii k diu phi khng? Tuyt vi qu! Th loi Fantasy lun c sc ht c bit vi nhng cu chuyn phiu lu, php thut v nhng th gii tng tng y bt ng .\n\nTrong th vin ca trng mnh, rt c th bn s tm thy nhng b truyn gi tng kinh in v c yu thch trn ton th gii ny:\n\n1.  **B truyn Harry Potter ca J.K. Rowling:** Chc chn ri! y l series khng th khng nhc n khi ni v tiu thuyt gi tng. Bn s c theo chn cu b ph thy Harry Potter v nhng ngi bn thn khm ph th gii php thut y m hoc ca Hogwarts, cng nhau chng li Cha t Voldemort tn c. Mnh  gii thiu mt cht v n ri , y thc s l mt chuyn phiu lu khng th b l!\n\n2.  **B truyn Percy Jackson v cc v thn Hy Lp ca Rick Riordan:** Nu bn yu thch thn thoi Hy Lp kt hp vi yu t hin i v nhng cuc phiu lu kch tnh, th Percy Jackson chnh l la chn hon ho. Cu b Percy pht hin ra mnh l con ca mt v thn v phi thc hin nhiu nhim v nguy him  cu th gii.\n\n3.  **Bin nin s Narnia ca C.S. Lewis:** Mt tc phm kinh in a bn n x Narnia huyn o, ni c nhng sinh vt bit ni, ph thy trng v ch s t v i Aslan. Qua cu chuyn ca bn anh em Pevensie, bn s c tri nghim nhng cuc phiu lu y  ngha v lng dng cm, tnh bn v s hy sinh.\n\n4.  **Ngi Hobbit ca J.R.R. Tolkien:** y l mt tc phm khi u cho th gii Trung a rng ln ca Tolkien. Cu chuyn k v cuc phiu lu bt c d ca ch Hobbit Bilbo Baggins cng mt nhm ngi ln v ph thy Gandalf. y l mt tc phm tuyt vi  bn bc chn vo th gii ca cc yu tinh, ngi ln, v nhng cuc hnh trnh k diu.\n\ny u l nhng b sch rt c yu thch v ph hp vi la tui ca chng mnh .  bit chnh xc th vin mnh c nhng cun no v bn c th mn c ngay khng, mnh khuyn khch bn hy gh thm th vin nh! Cc c/thy th th s rt sn lng gip bn tm kim.\n\nTh vin m ca t **7h30 n 16h30**, t **Th 2 n Th 6** hng tun. Rt mong c n bn n khm ph th gii Fantasy y mu sc ny!","conversationId":"4317c11e-033c-4665-8dd7-fd6effa8264e","status":"ok"}
2025-12-26T11:31:11.498+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-26T11:31:11.513+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{"answer":"Cho bn! Bn ang tm nhng cun tiu thuyt gi tng (Fantasy) ni ting  m chm v (truncated)..."]
2025-12-26T11:31:11.538+07:00 DEBUG 20236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:37:07.046+07:00  INFO 20236 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T11:37:07.066+07:00  INFO 20236 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T11:37:07.097+07:00  INFO 20236 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:37:07.097+07:00  INFO 20236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T11:37:07.110+07:00  INFO 20236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T11:37:31.367+07:00  INFO 31068 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 31068 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T11:37:31.369+07:00 DEBUG 31068 --- [main] c.i.lms.LibraryManagementApplication     : Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-26T11:37:31.370+07:00  INFO 31068 --- [main] c.i.lms.LibraryManagementApplication     : The following 1 profile is active: "dev"
2025-12-26T11:37:33.314+07:00  INFO 31068 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:37:33.331+07:00  INFO 31068 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T11:37:33.547+07:00  INFO 31068 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 201 ms. Found 14 JPA repository interfaces.
2025-12-26T11:37:33.562+07:00  INFO 31068 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T11:37:33.562+07:00  INFO 31068 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T11:37:33.599+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.599+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.599+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.599+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.606+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.607+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.608+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.611+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.613+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.614+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.615+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.615+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.617+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.618+07:00  INFO 31068 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T11:37:33.619+07:00  INFO 31068 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-12-26T11:37:34.679+07:00  INFO 31068 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T11:37:34.692+07:00  INFO 31068 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T11:37:34.694+07:00  INFO 31068 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T11:37:34.779+07:00  INFO 31068 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T11:37:34.780+07:00  INFO 31068 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3329 ms
2025-12-26T11:37:35.127+07:00  INFO 31068 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T11:37:35.207+07:00  INFO 31068 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T11:37:35.258+07:00  INFO 31068 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T11:37:35.779+07:00  INFO 31068 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T11:37:35.840+07:00  INFO 31068 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T11:37:36.086+07:00  INFO 31068 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8e8ceb3
2025-12-26T11:37:36.095+07:00  INFO 31068 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T11:37:36.182+07:00  WARN 31068 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T11:37:36.192+07:00  WARN 31068 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T11:37:36.239+07:00  INFO 31068 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T11:37:37.953+07:00  INFO 31068 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T11:37:38.390+07:00 DEBUG 31068 --- [main] org.hibernate.SQL                        : 
    alter table loans 
       modify column status enum ('ACTIVE','OVERDUE','RETURNED') not null
2025-12-26T11:37:38.404+07:00 DEBUG 31068 --- [main] org.hibernate.SQL                        : 
    alter table renewal_requests 
       modify column status enum ('APPROVED','PENDING','REJECTED') not null
2025-12-26T11:37:38.425+07:00 DEBUG 31068 --- [main] org.hibernate.SQL                        : 
    alter table reservations 
       modify column status enum ('ACTIVE','CANCELLED','EXPIRED','FULFILLED') not null
2025-12-26T11:37:38.765+07:00  INFO 31068 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T11:37:39.138+07:00  INFO 31068 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T11:37:39.767+07:00 DEBUG 31068 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-26T11:37:39.767+07:00 DEBUG 31068 --- [main] c.i.lms.configuration.JwtRequestFilter   : Filter 'jwtRequestFilter' configured for use
2025-12-26T11:37:41.248+07:00  INFO 31068 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T11:37:41.248+07:00  WARN 31068 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T11:37:42.853+07:00 DEBUG 31068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 69 mappings in 'requestMappingHandlerMapping'
2025-12-26T11:37:42.974+07:00 DEBUG 31068 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T11:37:43.184+07:00  INFO 31068 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T11:37:43.380+07:00 DEBUG 31068 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T11:37:43.543+07:00 DEBUG 31068 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T11:37:43.631+07:00 DEBUG 31068 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T11:37:44.731+07:00  INFO 31068 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T11:37:44.765+07:00  INFO 31068 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 14.146 seconds (process running for 14.558)
2025-12-26T11:37:45.003+07:00 DEBUG 31068 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:37:45.059+07:00 DEBUG 31068 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T11:37:45.074+07:00 DEBUG 31068 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:37:45.093+07:00 DEBUG 31068 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:37:59.957+07:00  INFO 31068 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T11:37:59.975+07:00  INFO 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T11:37:59.976+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T11:37:59.976+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T11:37:59.976+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T11:37:59.991+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@307e9f30
2025-12-26T11:37:59.991+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@28b83798
2025-12-26T11:37:59.991+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T11:37:59.991+07:00  INFO 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2025-12-26T11:38:00.101+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/authenticate
2025-12-26T11:38:00.190+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/authenticate
2025-12-26T11:38:00.206+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T11:38:00.225+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/authenticate
2025-12-26T11:38:00.225+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/authenticate", parameters={}
2025-12-26T11:38:00.243+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AuthController#authenticate(LoginRequest)
2025-12-26T11:38:01.273+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest[username=admin, password=admin123]]
2025-12-26T11:38:01.607+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:38:01.623+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:38:02.256+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-12-26T11:38:02.273+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        distinct u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    left join
        user_role r1_0 
            on u1_0.user_id=r1_0.user_id 
    left join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        lower(u1_0.username)=lower(?)
2025-12-26T11:38:02.523+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T11:38:02.574+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse[token=eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsInJvbGVzIjpbIlJPTEVfQURNSU4iXSwic3ViIjoiYWR (truncated)...]
2025-12-26T11:38:02.612+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:38:02.642+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:38:02.651+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:38:02.678+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:38:02.678+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:38:02.856+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:38:02.856+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:38:02.872+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:38:02.873+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:38:02.934+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:38:02.934+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:38:02.934+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:38:02.940+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:38:02.941+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:38:02.945+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:38:02.949+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:38:02.950+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:38:02.977+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:38:02.977+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:38:03.028+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:38:03.048+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:38:03.060+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:38:03.083+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:38:03.110+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:38:03.112+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:38:03.148+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:38:03.177+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:38:03.177+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:38:03.177+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:38:03.194+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:38:03.211+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:38:03.227+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:38:03.276+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@38d14e68, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:38:03.363+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:38:03.506+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:38:03.593+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:38:03.593+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:38:03.593+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@1987911c]
2025-12-26T11:38:03.659+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:38:24.153+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:38:24.153+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:38:24.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:38:24.170+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:38:24.200+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:38:24.200+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:38:24.214+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:38:24.225+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:38:24.247+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:38:24.248+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:38:24.253+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:38:24.252+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:38:24.257+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:38:24.258+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:38:24.260+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:38:24.260+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:38:24.263+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:38:24.265+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:38:24.267+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:38:24.271+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:38:24.274+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:38:24.278+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:38:24.278+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:38:24.289+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:38:24.294+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:38:24.294+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:38:24.309+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:38:24.309+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:38:24.309+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@115325e6, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:38:24.309+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:38:24.327+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:38:24.327+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:38:24.327+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:38:24.343+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:38:24.343+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:38:24.358+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:38:24.358+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@11a038e0]
2025-12-26T11:38:24.358+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:38:27.894+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/chat
2025-12-26T11:38:27.977+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/user/chat
2025-12-26T11:38:27.996+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:38:28.013+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:38:28.025+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/user/chat
2025-12-26T11:38:28.040+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/user/chat", parameters={}
2025-12-26T11:38:28.042+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ChatbotController#ask(ChatRequestDto)
2025-12-26T11:38:28.076+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.ChatRequestDto@2c83bfe5]
2025-12-26T11:38:28.147+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:38:28.150+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ChatbotController.ask(com.ibizabroker.lms.dto.ChatRequestDto); target is of class [com.ibizabroker.lms.controller.ChatbotController]
2025-12-26T11:38:28.151+07:00  INFO 31068 --- [http-nio-8080-exec-1] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Authorities=[ROLE_ADMIN]
2025-12-26T11:38:28.156+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:38:29.756+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    SELECT
        * 
    FROM
        chat_messages 
    WHERE
        conversation_id = ? 
    ORDER BY
        created_at DESC 
    LIMIT
        5
2025-12-26T11:38:29.873+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : HTTP POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAJW8Tc28poQqYF0eKU2qoSsTjiIbPI5zQ
2025-12-26T11:38:29.873+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/yaml, application/*+json, */*]
2025-12-26T11:38:29.873+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Writing [{contents=[Ljava.lang.Object;@7d41a572}] as "application/json"
2025-12-26T11:38:33.906+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Response 200 OK
2025-12-26T11:38:33.922+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=UTF-8"
2025-12-26T11:38:33.999+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        chat_messages
        (bot_response, conversation_id, created_at, user_id, user_message) 
    values
        (?, ?, ?, ?, ?)
2025-12-26T11:38:34.045+07:00  INFO 31068 --- [http-nio-8080-exec-1] c.i.lms.controller.ChatbotController     :  Chatbot response (length=240): {"answer":"Hin ti mnh cha tm thy sch tiu thuyt gi tng (Fantasy) ni ting no trong danh mc sch ca th vin. Bn c th hi th th  kim tra thm nh.","status":"ok","conversationId":"7d2863b2-5085-4f03-b5b1-8e24ec9d17d9"}
2025-12-26T11:38:34.045+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2025-12-26T11:38:34.045+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{"answer":"Hin ti mnh cha tm thy sch tiu thuyt gi tng (Fantasy) ni ting no trong danh (truncated)..."]
2025-12-26T11:38:34.059+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:47:48.129+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:47:48.137+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:47:48.192+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:47:48.192+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:47:48.241+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:47:48.241+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:47:48.257+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:47:48.257+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:47:48.349+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:47:48.350+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:47:48.351+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:47:48.351+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:47:48.351+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:47:48.351+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:47:48.358+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:47:48.365+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:47:48.366+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:47:48.367+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:47:48.369+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:47:48.381+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:47:48.382+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:47:48.394+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:47:48.401+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:47:48.423+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:47:48.423+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@19339e54, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T11:47:48.425+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:47:48.428+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:47:48.447+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:47:48.457+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:47:48.468+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:47:48.479+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:47:48.501+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:47:48.506+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:47:48.511+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:47:48.519+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:47:48.522+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:47:48.522+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@4b1dc0e7]
2025-12-26T11:47:48.524+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:55:27.487+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T11:55:27.487+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T11:55:27.493+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T11:55:27.493+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T11:55:27.519+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:55:27.522+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T11:55:27.553+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:55:27.557+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T11:55:27.598+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T11:55:27.598+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T11:55:27.598+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T11:55:27.598+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T11:55:27.605+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T11:55:27.605+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T11:55:27.611+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:55:27.612+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:55:27.615+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T11:55:27.617+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T11:55:27.619+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T11:55:27.619+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T11:55:27.636+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T11:55:27.637+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T11:55:27.646+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:55:27.649+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:55:27.655+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:55:27.655+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:55:27.655+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:55:27.672+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@d5ae6d8, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE=0 (truncated)...]
2025-12-26T11:55:27.674+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T11:55:27.674+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T11:55:27.674+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T11:55:27.690+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:55:27.690+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T11:55:27.711+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T11:55:27.719+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T11:55:27.722+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T11:55:27.722+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@75cf0b3a]
2025-12-26T11:55:27.722+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T12:58:51.126+07:00  WARN 31068 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h2m44s605ms14s300ns).
2025-12-26T12:59:14.880+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T12:59:14.881+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T12:59:14.896+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T12:59:14.896+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T12:59:14.918+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T12:59:14.918+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T12:59:14.926+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T12:59:14.926+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T12:59:14.945+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T12:59:14.945+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T12:59:14.946+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T12:59:14.946+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T12:59:14.946+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T12:59:14.946+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T12:59:14.947+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T12:59:14.947+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T12:59:14.948+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T12:59:14.948+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T12:59:14.949+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T12:59:14.955+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T12:59:14.957+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T12:59:14.961+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T12:59:14.964+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T12:59:14.965+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T12:59:14.971+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T12:59:14.971+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@4e0f1763, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T12:59:14.971+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T12:59:14.971+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T12:59:14.985+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T12:59:14.990+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T12:59:14.995+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T12:59:14.998+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T12:59:15.005+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T12:59:15.012+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T12:59:15.018+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T12:59:15.022+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T12:59:15.023+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@137936dd]
2025-12-26T12:59:15.025+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:18.965+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T13:30:18.965+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T13:30:18.973+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T13:30:18.972+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T13:30:18.980+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:30:18.980+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:30:18.987+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:30:18.987+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:30:19.021+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T13:30:19.021+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T13:30:19.023+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T13:30:19.025+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T13:30:19.028+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T13:30:19.030+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T13:30:19.039+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T13:30:19.042+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:30:19.046+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T13:30:19.046+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:30:19.056+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T13:30:19.055+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T13:30:19.077+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T13:30:19.089+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T13:30:19.090+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T13:30:19.094+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T13:30:19.104+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T13:30:19.107+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:19.111+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@efe57a, totalUnpaidFines=0.00, statusDistribution={ACTIVE=0, RETURNED=1, OVERDUE=0} (truncated)...]
2025-12-26T13:30:19.120+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T13:30:19.121+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:19.125+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T13:30:19.138+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T13:30:19.150+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T13:30:19.174+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T13:30:19.190+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T13:30:19.214+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T13:30:19.223+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:19.223+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@17ba38ac]
2025-12-26T13:30:19.241+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:31.939+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:30:31.941+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:30:31.944+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:30:31.948+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:30:31.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:30:32.067+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:30:32.141+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:32.165+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:32.189+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:32.205+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:32.341+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:32.341+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:30:32.405+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:38.893+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T13:30:38.923+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T13:30:38.940+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:30:38.945+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:30:38.967+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T13:30:38.969+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T13:30:38.972+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T13:30:38.976+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:30:38.984+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:30:38.996+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T13:30:39.020+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:39.035+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:39.035+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@20e34a13, com.ibizabroker.lms.dto.UserDto@525bb008]]
2025-12-26T13:30:39.046+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:39.759+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/loans
2025-12-26T13:30:39.768+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T13:30:39.773+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:30:39.787+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:30:39.807+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T13:30:39.807+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T13:30:39.807+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T13:30:39.824+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T13:30:39.824+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T13:30:40.305+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T13:30:40.371+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:40.376+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@6c7d4eea]]
2025-12-26T13:30:40.391+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:41.003+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T13:30:41.016+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:30:41.028+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:30:41.052+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T13:30:41.054+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T13:30:41.054+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T13:30:41.054+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T13:30:41.054+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T13:30:41.054+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T13:30:41.072+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:41.072+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@4291f86d]]
2025-12-26T13:30:41.088+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:41.742+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T13:30:41.780+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:30:41.806+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:30:41.858+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T13:30:41.862+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T13:30:41.870+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T13:30:41.876+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T13:30:41.880+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T13:30:41.893+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T13:30:41.904+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:41.909+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@51007d48]]
2025-12-26T13:30:41.921+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:43.138+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/fines
2025-12-26T13:30:43.154+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/fines
2025-12-26T13:30:43.214+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:30:43.222+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:30:43.256+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/fines
2025-12-26T13:30:43.272+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/fines", parameters={}
2025-12-26T13:30:43.272+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.FineController#getUnpaidFines()
2025-12-26T13:30:43.272+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.FineController.getUnpaidFines(); target is of class [com.ibizabroker.lms.controller.FineController]
2025-12-26T13:30:43.288+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.FineController.getUnpaidFines(); target is of class [com.ibizabroker.lms.controller.FineController]
2025-12-26T13:30:43.303+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.fine_amount 
    from
        loans l1_0 
    join
        books b1_0 
            on l1_0.book_id=b1_0.id 
    join
        users u1_0 
            on l1_0.member_id=u1_0.user_id 
    where
        l1_0.fine_status='UNPAID' 
    order by
        l1_0.return_date desc
2025-12-26T13:30:43.310+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:43.310+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:30:43.310+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:30:44.557+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:30:44.586+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:30:44.612+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:30:44.623+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:30:44.639+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:30:44.656+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:30:44.712+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:44.723+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:44.741+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:44.759+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:30:44.759+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:30:44.759+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:30:44.787+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:02.435+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T13:31:02.440+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T13:31:02.449+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:02.455+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:02.460+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T13:31:02.460+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T13:31:02.474+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T13:31:02.474+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:02.474+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:02.474+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T13:31:02.487+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:31:02.490+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:02.490+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@316caab3, com.ibizabroker.lms.dto.UserDto@6d51b7da]]
2025-12-26T13:31:02.490+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:13.046+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T13:31:13.054+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T13:31:13.082+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:13.089+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:13.105+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T13:31:13.106+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T13:31:13.109+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T13:31:13.109+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:13.109+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:13.126+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T13:31:13.126+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:31:13.141+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:13.141+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@4243afe9, com.ibizabroker.lms.dto.UserDto@243402ea]]
2025-12-26T13:31:13.141+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:17.322+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/loans?memberId=1
2025-12-26T13:31:17.323+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/1
2025-12-26T13:31:17.329+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/loans?memberId=1
2025-12-26T13:31:17.330+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/1
2025-12-26T13:31:17.353+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:17.358+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:17.362+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:17.363+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:17.380+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/loans?memberId=1
2025-12-26T13:31:17.434+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/loans?memberId=1", parameters={masked}
2025-12-26T13:31:17.434+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/1
2025-12-26T13:31:17.486+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/1", parameters={}
2025-12-26T13:31:17.486+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#listLoans(Integer, Integer, boolean)
2025-12-26T13:31:17.497+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getUserById(Integer)
2025-12-26T13:31:17.623+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getUserById(java.lang.Integer); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:17.657+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getUserById(java.lang.Integer); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:17.659+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.member_id=?
2025-12-26T13:31:17.667+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:17.668+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:31:17.671+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:17.697+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-12-26T13:31:17.718+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:17.720+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.entity.Users@586036e]
2025-12-26T13:31:17.731+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:17.742+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:20.551+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T13:31:20.557+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T13:31:20.579+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:20.583+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:20.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T13:31:20.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T13:31:20.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T13:31:20.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:20.602+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:20.606+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T13:31:20.606+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:31:20.606+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:20.619+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@181c8362, com.ibizabroker.lms.dto.UserDto@25d7481b]]
2025-12-26T13:31:20.621+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:21.721+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2025-12-26T13:31:21.722+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/loans?memberId=2
2025-12-26T13:31:21.728+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/loans?memberId=2
2025-12-26T13:31:21.729+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2025-12-26T13:31:21.747+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:21.749+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:21.758+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:21.761+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:21.778+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/loans?memberId=2
2025-12-26T13:31:21.779+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/loans?memberId=2", parameters={masked}
2025-12-26T13:31:21.782+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2025-12-26T13:31:21.783+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#listLoans(Integer, Integer, boolean)
2025-12-26T13:31:21.784+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2025-12-26T13:31:21.791+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getUserById(Integer)
2025-12-26T13:31:21.794+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getUserById(java.lang.Integer); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:21.794+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.member_id=?
2025-12-26T13:31:21.796+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getUserById(java.lang.Integer); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:21.811+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-12-26T13:31:21.820+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:21.822+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Loan@2e91ec6e]]
2025-12-26T13:31:21.822+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:21.822+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:21.822+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.entity.Users@36ebea]
2025-12-26T13:31:21.837+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:21.850+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:24.601+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T13:31:24.608+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:24.613+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:24.622+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T13:31:24.622+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T13:31:24.622+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T13:31:24.622+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:24.622+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:24.622+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T13:31:24.641+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:31:24.646+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:24.646+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@69daa169, com.ibizabroker.lms.dto.UserDto@4cf30203]]
2025-12-26T13:31:24.657+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:26.941+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2025-12-26T13:31:27.017+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2025-12-26T13:31:27.075+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:27.095+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:27.145+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2025-12-26T13:31:27.148+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2025-12-26T13:31:27.149+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getUserById(Integer)
2025-12-26T13:31:27.151+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getUserById(java.lang.Integer); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:27.157+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getUserById(java.lang.Integer); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:27.161+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-12-26T13:31:27.172+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:27.174+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.entity.Users@36ebea]
2025-12-26T13:31:27.174+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:27.179+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:37.853+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/settings
2025-12-26T13:31:37.900+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/settings
2025-12-26T13:31:37.970+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:38.007+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:38.037+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/settings
2025-12-26T13:31:38.040+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/settings", parameters={}
2025-12-26T13:31:38.040+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminSettingsController#list()
2025-12-26T13:31:38.055+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminSettingsController.list(); target is of class [com.ibizabroker.lms.controller.AdminSettingsController]
2025-12-26T13:31:38.060+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminSettingsController.list(); target is of class [com.ibizabroker.lms.controller.AdminSettingsController]
2025-12-26T13:31:38.068+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        ss1_0.id,
        ss1_0.setting_key,
        ss1_0.updated_at,
        ss1_0.setting_value 
    from
        system_settings ss1_0
2025-12-26T13:31:38.083+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:38.084+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:31:38.087+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:44.646+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T13:31:44.710+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T13:31:44.772+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:44.777+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:44.789+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T13:31:44.803+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T13:31:44.803+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T13:31:44.810+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:44.810+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:44.810+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T13:31:44.820+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:31:44.837+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:44.837+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@713c26ce, com.ibizabroker.lms.dto.UserDto@3e026c]]
2025-12-26T13:31:44.837+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:49.793+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T13:31:49.804+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T13:31:49.813+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:49.822+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:49.835+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T13:31:49.836+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T13:31:49.838+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T13:31:49.839+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:49.839+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T13:31:49.839+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T13:31:49.853+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:31:49.856+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:49.856+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@6445dcc7, com.ibizabroker.lms.dto.UserDto@2da2fef4]]
2025-12-26T13:31:49.856+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:51.089+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/loans?memberId=2
2025-12-26T13:31:51.094+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/loans?memberId=2
2025-12-26T13:31:51.109+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:31:51.114+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:31:51.124+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/loans?memberId=2
2025-12-26T13:31:51.126+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/loans?memberId=2", parameters={masked}
2025-12-26T13:31:51.127+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#listLoans(Integer, Integer, boolean)
2025-12-26T13:31:51.133+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.member_id=?
2025-12-26T13:31:51.140+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:51.140+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Loan@1ce165d]]
2025-12-26T13:31:51.140+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:58.676+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=5&search=t
2025-12-26T13:31:58.679+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:31:58.681+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=5&search=t
2025-12-26T13:31:58.685+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=5&search=t", parameters={masked}
2025-12-26T13:31:58.691+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:31:58.715+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:31:58.722+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:31:58.724+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:31:58.738+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:31:58.738+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:31:58.738+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 14 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:31:58.756+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:31:59.941+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=5&search=to
2025-12-26T13:31:59.952+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:31:59.967+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=5&search=to
2025-12-26T13:31:59.971+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=5&search=to", parameters={masked}
2025-12-26T13:31:59.977+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:31:59.987+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:31:59.997+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:00.002+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:00.019+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:32:00.070+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:32:00.070+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 4 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:32:00.086+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:32:00.186+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=5&search=t%C3%B4
2025-12-26T13:32:00.191+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=5&search=t
2025-12-26T13:32:00.196+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:32:00.196+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:32:00.209+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=5&search=t
2025-12-26T13:32:00.214+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=5&search=t%C3%B4
2025-12-26T13:32:00.228+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=5&search=t", parameters={masked}
2025-12-26T13:32:00.237+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=5&search=t%C3%B4", parameters={masked}
2025-12-26T13:32:00.240+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:32:00.247+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:32:00.274+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:32:00.290+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:32:00.346+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=5&search=t%C3%B4i
2025-12-26T13:32:00.374+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:00.454+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:00.422+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:32:00.454+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:00.604+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=5&search=t%C3%B4i
2025-12-26T13:32:00.604+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:00.625+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=5&search=t%C3%B4i", parameters={masked}
2025-12-26T13:32:00.625+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:32:00.637+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:32:00.652+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:32:00.671+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:32:00.702+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:32:00.708+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:00.712+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 14 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:32:00.719+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:32:00.741+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:00.755+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 4 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:32:00.755+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:32:00.788+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:32:00.802+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:32:00.809+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:32:00.818+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:32:13.869+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/loans
2025-12-26T13:32:13.875+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/user/circulation/loans
2025-12-26T13:32:13.880+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:32:13.888+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:32:13.905+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/user/circulation/loans
2025-12-26T13:32:13.905+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/user/circulation/loans", parameters={}
2025-12-26T13:32:13.905+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#loan(LoanRequest)
2025-12-26T13:32:13.921+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.ibizabroker.lms.dto.LoanRequest@6372152c]
2025-12-26T13:32:13.922+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.book_id,
        r1_0.created_at,
        r1_0.expire_at,
        r1_0.member_id,
        r1_0.status 
    from
        reservations r1_0 
    where
        r1_0.book_id=? 
        and r1_0.status=? 
    order by
        r1_0.created_at 
    limit
        ?
2025-12-26T13:32:14.002+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    update
        books b1_0 
    set
        number_of_copies_available=(b1_0.number_of_copies_available-1) 
    where
        b1_0.id=? 
        and b1_0.number_of_copies_available>0
2025-12-26T13:32:14.016+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        ss1_0.id,
        ss1_0.setting_key,
        ss1_0.updated_at,
        ss1_0.setting_value 
    from
        system_settings ss1_0 
    where
        upper(ss1_0.setting_key)=upper(?)
2025-12-26T13:32:14.039+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        loans
        (book_id, due_date, fine_amount, fine_status, loan_date, member_id, return_date, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:14.074+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:32:14.074+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.entity.Loan@329f76e6]
2025-12-26T13:32:14.085+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:32:42.479+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/authenticate
2025-12-26T13:32:42.484+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/authenticate
2025-12-26T13:32:42.486+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:32:42.486+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/authenticate
2025-12-26T13:32:42.486+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/authenticate", parameters={}
2025-12-26T13:32:42.490+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AuthController#authenticate(LoginRequest)
2025-12-26T13:32:42.490+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest[username=user, password=123456]]
2025-12-26T13:32:42.490+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:32:42.508+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:32:42.685+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-12-26T13:32:42.690+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        distinct u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    left join
        user_role r1_0 
            on u1_0.user_id=r1_0.user_id 
    left join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        lower(u1_0.username)=lower(?)
2025-12-26T13:32:42.702+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T13:32:42.702+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse[token=eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsInJvbGVzIjpbIlJPTEVfVVNFUiJdLCJzdWIiOiJ1c2V (truncated)...]
2025-12-26T13:32:42.702+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:32:42.748+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T13:32:42.754+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:32:42.758+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T13:32:42.759+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T13:32:42.761+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T13:32:42.775+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T13:32:42.783+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:42.796+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:42.822+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:32:42.830+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@4556c841, com.ibizabroker.lms.entity.Books@4f6b4686, com.ibizabrok (truncated)...]
2025-12-26T13:32:42.841+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:32:49.638+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:32:49.638+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:32:49.640+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:32:49.641+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:32:49.641+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:32:49.642+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:32:49.644+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:32:49.643+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:32:49.646+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:32:49.647+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:32:49.655+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:32:49.664+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:32:49.694+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:49.709+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:49.709+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:49.725+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:49.725+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:32:49.725+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:49.741+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:32:49.741+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:32:49.741+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:32:49.741+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:32:49.752+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:32:49.752+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:32:49.768+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:07.379+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:33:07.381+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:33:07.383+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:33:07.389+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:33:07.392+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:33:07.402+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:33:07.422+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:07.434+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:07.439+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:33:07.455+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:07.455+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:33:07.455+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:12.081+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/wishlist/my-wishlist
2025-12-26T13:33:12.088+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/wishlist/my-wishlist
2025-12-26T13:33:12.095+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:12.097+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:33:12.111+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/wishlist/my-wishlist
2025-12-26T13:33:12.112+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/wishlist/my-wishlist", parameters={}
2025-12-26T13:33:12.113+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.WishlistController#getMyWishlist()
2025-12-26T13:33:12.117+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.getMyWishlist(); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:33:12.125+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.getMyWishlist(); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:33:12.129+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:12.151+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        w1_0.id,
        w1_0.book_id,
        w1_0.created_at,
        w1_0.user_id 
    from
        wishlist w1_0 
    where
        w1_0.user_id=?
2025-12-26T13:33:12.179+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T13:33:12.179+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:33:12.179+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:12.827+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:33:12.827+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:33:12.836+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:33:12.859+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:33:12.864+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:33:12.887+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:33:12.897+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:33:12.893+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:33:12.910+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:33:12.914+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:33:12.910+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:33:12.926+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:33:12.952+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:12.961+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:12.970+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:12.981+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:12.985+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:33:12.992+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:12.994+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:12.995+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:33:12.998+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:13.004+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:13.008+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:13.008+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:33:13.013+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:19.455+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-loans
2025-12-26T13:33:19.456+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-fines
2025-12-26T13:33:19.458+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-renewals
2025-12-26T13:33:19.459+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/my/reviews
2025-12-26T13:33:19.461+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-loans
2025-12-26T13:33:19.463+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-fines
2025-12-26T13:33:19.463+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-renewals
2025-12-26T13:33:19.480+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:19.482+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:19.484+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/my/reviews
2025-12-26T13:33:19.493+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:33:19.495+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:19.497+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:33:19.512+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:19.514+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:33:19.530+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-loans
2025-12-26T13:33:19.535+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-loans", parameters={}
2025-12-26T13:33:19.547+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:33:19.556+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyLoanHistory(UserDetails)
2025-12-26T13:33:19.559+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-fines
2025-12-26T13:33:19.561+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-fines", parameters={}
2025-12-26T13:33:19.562+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-renewals
2025-12-26T13:33:19.568+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyFines(UserDetails)
2025-12-26T13:33:19.570+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-renewals", parameters={}
2025-12-26T13:33:19.570+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyRenewals(UserDetails)
2025-12-26T13:33:19.570+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/my/reviews
2025-12-26T13:33:19.570+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyFines(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:33:19.570+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:33:19.570+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/my/reviews", parameters={}
2025-12-26T13:33:19.570+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyRenewals(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:33:19.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyRenewals(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:33:19.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ReviewController#getMyReviews(UserDetails)
2025-12-26T13:33:19.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyFines(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:33:19.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:33:19.589+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.ReviewController.getMyReviews(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T13:33:19.603+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:19.603+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:19.603+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:19.619+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.ReviewController.getMyReviews(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T13:33:19.635+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:19.636+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.member_id=?
2025-12-26T13:33:19.654+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.fine_amount 
    from
        loans l1_0 
    join
        books b1_0 
            on l1_0.book_id=b1_0.id 
    join
        users u1_0 
            on l1_0.member_id=u1_0.user_id 
    where
        l1_0.fine_status='UNPAID' 
        and l1_0.member_id=? 
    order by
        l1_0.return_date desc
2025-12-26T13:33:19.654+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.approved,
        r1_0.book_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.user_id 
    from
        reviews r1_0 
    left join
        users u1_0 
            on u1_0.user_id=r1_0.user_id 
    where
        u1_0.user_id=? 
    order by
        r1_0.created_at desc
2025-12-26T13:33:19.667+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:19.673+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:33:19.678+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:19.688+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:19.703+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:33:19.703+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:19.703+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:19.703+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
where
    l1_0.member_id=? 
order by
    l1_0.loan_date desc
2025-12-26T13:33:19.934+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-12-26T13:33:19.971+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:19.964+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:20.034+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@776fb5cb, com.ibizabroker.lms.dto.LoanDetailsDto@3aacf891]]
2025-12-26T13:33:20.034+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:32.945+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-loans
2025-12-26T13:33:32.952+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-loans
2025-12-26T13:33:32.960+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:32.970+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:33:32.982+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-loans
2025-12-26T13:33:32.983+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-loans", parameters={}
2025-12-26T13:33:32.987+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyLoanHistory(UserDetails)
2025-12-26T13:33:32.991+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:33:32.992+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:33:32.996+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:33.004+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
where
    l1_0.member_id=? 
order by
    l1_0.loan_date desc
2025-12-26T13:33:33.012+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:33.018+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@1f8584e, com.ibizabroker.lms.dto.LoanDetailsDto@25de9c91]]
2025-12-26T13:33:33.021+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:33.884+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/wishlist/my-wishlist
2025-12-26T13:33:33.889+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/wishlist/my-wishlist
2025-12-26T13:33:33.897+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:33.906+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:33:33.919+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/wishlist/my-wishlist
2025-12-26T13:33:33.922+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/wishlist/my-wishlist", parameters={}
2025-12-26T13:33:33.926+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.WishlistController#getMyWishlist()
2025-12-26T13:33:33.928+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.getMyWishlist(); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:33:33.928+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.getMyWishlist(); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:33:33.936+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:33:33.947+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        w1_0.id,
        w1_0.book_id,
        w1_0.created_at,
        w1_0.user_id 
    from
        wishlist w1_0 
    where
        w1_0.user_id=?
2025-12-26T13:33:33.958+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T13:33:33.962+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:33:33.964+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:36.086+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:33:36.086+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:33:36.105+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:33:36.293+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:33:36.295+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:33:36.310+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:33:36.313+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:33:36.337+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:33:36.337+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:33:36.429+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:33:36.436+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:33:36.436+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:36.469+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:33:36.469+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:36.500+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:33:36.519+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:36.521+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:36.522+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:33:36.528+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:33:36.533+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:36.544+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:36.550+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:33:36.556+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:33:36.557+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:33:36.560+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:30.156+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:35:30.157+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:35:30.177+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:35:30.215+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:35:30.216+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:35:30.236+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:35:30.249+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:35:30.249+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:35:30.269+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:35:30.286+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:35:30.286+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:35:30.311+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:35:30.332+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:30.357+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:30.372+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:30.382+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:30.404+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:30.408+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:35:30.423+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:30.425+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:30.425+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:35:30.436+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:30.442+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:30.443+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:35:30.452+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:35.770+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10&genre=S%C3%A1ch%20Gi%C3%A1o%20Khoa
2025-12-26T13:35:35.776+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:35:35.782+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10&genre=S%C3%A1ch%20Gi%C3%A1o%20Khoa
2025-12-26T13:35:35.783+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10&genre=S%C3%A1ch%20Gi%C3%A1o%20Khoa", parameters={masked}
2025-12-26T13:35:35.784+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:35:35.787+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:35:35.787+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:35.787+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:35.799+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:35:35.799+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:35.799+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 3 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:35:35.799+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:40.237+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10&genre=S%C3%A1ch%20Tham%20Kh%E1%BA%A3o
2025-12-26T13:35:40.238+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:35:40.240+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10&genre=S%C3%A1ch%20Tham%20Kh%E1%BA%A3o
2025-12-26T13:35:40.240+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10&genre=S%C3%A1ch%20Tham%20Kh%E1%BA%A3o", parameters={masked}
2025-12-26T13:35:40.241+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:35:40.243+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:35:40.249+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:40.254+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:40.254+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:40.254+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:35:40.268+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:45.166+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:35:45.171+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:35:45.181+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:35:45.182+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:35:45.201+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:35:45.210+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:35:45.226+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:45.234+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:45.246+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:35:45.262+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:45.264+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:35:45.266+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:49.879+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-loans
2025-12-26T13:35:49.880+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-fines
2025-12-26T13:35:49.882+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-renewals
2025-12-26T13:35:49.882+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/my/reviews
2025-12-26T13:35:49.887+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-loans
2025-12-26T13:35:49.887+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-fines
2025-12-26T13:35:49.887+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/my/reviews
2025-12-26T13:35:49.894+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-renewals
2025-12-26T13:35:49.899+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:49.904+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:49.909+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:49.909+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:49.910+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:35:49.913+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:35:49.915+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:35:49.919+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:35:49.919+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-loans
2025-12-26T13:35:49.919+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-loans", parameters={}
2025-12-26T13:35:49.919+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-fines
2025-12-26T13:35:49.938+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-fines", parameters={}
2025-12-26T13:35:49.936+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-renewals
2025-12-26T13:35:49.938+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyLoanHistory(UserDetails)
2025-12-26T13:35:49.938+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyFines(UserDetails)
2025-12-26T13:35:49.938+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/my/reviews
2025-12-26T13:35:49.938+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/my/reviews", parameters={}
2025-12-26T13:35:49.938+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-renewals", parameters={}
2025-12-26T13:35:49.948+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyRenewals(UserDetails)
2025-12-26T13:35:49.938+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:35:49.938+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyFines(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ReviewController#getMyReviews(UserDetails)
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyFines(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyRenewals(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.ReviewController.getMyReviews(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyRenewals(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.ReviewController.getMyReviews(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:49.953+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:49.966+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:49.967+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:49.969+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
where
    l1_0.member_id=? 
order by
    l1_0.loan_date desc
2025-12-26T13:35:49.969+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.fine_amount 
    from
        loans l1_0 
    join
        books b1_0 
            on l1_0.book_id=b1_0.id 
    join
        users u1_0 
            on l1_0.member_id=u1_0.user_id 
    where
        l1_0.fine_status='UNPAID' 
        and l1_0.member_id=? 
    order by
        l1_0.return_date desc
2025-12-26T13:35:49.969+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.approved,
        r1_0.book_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.user_id 
    from
        reviews r1_0 
    left join
        users u1_0 
            on u1_0.user_id=r1_0.user_id 
    where
        u1_0.user_id=? 
    order by
        r1_0.created_at desc
2025-12-26T13:35:49.983+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:49.984+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:35:49.986+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:49.969+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.member_id=?
2025-12-26T13:35:49.990+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:49.991+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@5c46ba54, com.ibizabroker.lms.dto.LoanDetailsDto@b10fdcc]]
2025-12-26T13:35:49.991+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:49.993+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-12-26T13:35:49.999+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:50.001+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:50.001+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:50.002+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:35:50.003+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:53.182+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-loans
2025-12-26T13:35:53.191+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:53.196+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:35:53.209+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-loans
2025-12-26T13:35:53.210+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-loans", parameters={}
2025-12-26T13:35:53.212+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyLoanHistory(UserDetails)
2025-12-26T13:35:53.214+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:35:53.215+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:35:53.221+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:53.228+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
where
    l1_0.member_id=? 
order by
    l1_0.loan_date desc
2025-12-26T13:35:53.235+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:53.236+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@3c96f110, com.ibizabroker.lms.dto.LoanDetailsDto@b6e5ebc]]
2025-12-26T13:35:53.239+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:53.722+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/wishlist/my-wishlist
2025-12-26T13:35:53.748+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/wishlist/my-wishlist
2025-12-26T13:35:53.789+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:53.800+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:35:53.800+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/wishlist/my-wishlist
2025-12-26T13:35:53.818+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/wishlist/my-wishlist", parameters={}
2025-12-26T13:35:53.818+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.WishlistController#getMyWishlist()
2025-12-26T13:35:53.818+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.getMyWishlist(); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:35:53.818+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.getMyWishlist(); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:35:53.834+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:35:53.834+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        w1_0.id,
        w1_0.book_id,
        w1_0.created_at,
        w1_0.user_id 
    from
        wishlist w1_0 
    where
        w1_0.user_id=?
2025-12-26T13:35:53.852+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T13:35:53.852+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:35:53.852+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:55.347+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:35:55.347+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:35:55.349+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:35:55.350+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:35:55.350+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:35:55.351+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:35:55.351+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:35:55.352+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:35:55.352+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:35:55.353+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:35:55.354+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:35:55.354+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:35:55.361+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:55.369+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:55.372+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:55.377+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:55.377+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:35:55.388+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:55.392+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:55.393+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:35:55.395+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:35:55.400+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:35:55.403+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:35:55.407+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:35:55.418+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:36:06.083+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-loans
2025-12-26T13:36:06.084+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/my/reviews
2025-12-26T13:36:06.084+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-fines
2025-12-26T13:36:06.084+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/circulation/my-renewals
2025-12-26T13:36:06.091+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/my/reviews
2025-12-26T13:36:06.091+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-fines
2025-12-26T13:36:06.091+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-loans
2025-12-26T13:36:06.091+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/circulation/my-renewals
2025-12-26T13:36:06.102+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:36:06.106+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:36:06.109+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:36:06.109+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:36:06.112+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:36:06.112+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:36:06.115+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:36:06.118+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:36:06.118+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-loans
2025-12-26T13:36:06.118+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/my/reviews
2025-12-26T13:36:06.118+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-fines
2025-12-26T13:36:06.118+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-loans", parameters={}
2025-12-26T13:36:06.134+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/my/reviews", parameters={}
2025-12-26T13:36:06.134+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-fines", parameters={}
2025-12-26T13:36:06.134+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/circulation/my-renewals
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/circulation/my-renewals", parameters={}
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyLoanHistory(UserDetails)
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ReviewController#getMyReviews(UserDetails)
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyFines(UserDetails)
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.CirculationController#getMyRenewals(UserDetails)
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyFines(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.ReviewController.getMyReviews(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyFines(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyRenewals(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyLoanHistory(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.CirculationController.getMyRenewals(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.CirculationController]
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.ReviewController.getMyReviews(org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:36:06.136+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:36:06.150+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:36:06.152+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
where
    l1_0.member_id=? 
order by
    l1_0.loan_date desc
2025-12-26T13:36:06.152+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.fine_amount 
    from
        loans l1_0 
    join
        books b1_0 
            on l1_0.book_id=b1_0.id 
    join
        users u1_0 
            on l1_0.member_id=u1_0.user_id 
    where
        l1_0.fine_status='UNPAID' 
        and l1_0.member_id=? 
    order by
        l1_0.return_date desc
2025-12-26T13:36:06.152+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.member_id=?
2025-12-26T13:36:06.164+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:36:06.165+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@4a9df5ba, com.ibizabroker.lms.dto.LoanDetailsDto@86e57d7]]
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.approved,
        r1_0.book_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.user_id 
    from
        reviews r1_0 
    left join
        users u1_0 
            on u1_0.user_id=r1_0.user_id 
    where
        u1_0.user_id=? 
    order by
        r1_0.created_at desc
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:36:06.169+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-12-26T13:36:06.181+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:36:06.184+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:36:10.580+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:36:10.580+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:36:10.581+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:36:10.581+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:36:10.582+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:36:10.582+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:36:10.583+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:36:10.583+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:36:10.583+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:36:10.583+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:36:10.585+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:36:10.585+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:36:10.591+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:36:10.600+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:36:10.602+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:36:10.606+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:36:10.607+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:36:10.611+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:36:10.612+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:36:10.612+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:36:10.615+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:36:10.616+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:36:10.620+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:36:10.625+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:36:10.625+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:39:58.714+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/wishlist/my-wishlist
2025-12-26T13:39:58.773+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/wishlist/my-wishlist
2025-12-26T13:39:58.809+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:39:58.832+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:39:58.865+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/wishlist/my-wishlist
2025-12-26T13:39:58.869+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/wishlist/my-wishlist", parameters={}
2025-12-26T13:39:58.872+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.WishlistController#getMyWishlist()
2025-12-26T13:39:58.886+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.getMyWishlist(); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:39:58.898+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.getMyWishlist(); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:39:58.916+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:39:58.954+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        w1_0.id,
        w1_0.book_id,
        w1_0.created_at,
        w1_0.user_id 
    from
        wishlist w1_0 
    where
        w1_0.user_id=?
2025-12-26T13:39:58.975+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T13:39:58.980+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T13:39:58.988+07:00 DEBUG 31068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:40:00.366+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:40:00.366+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:40:00.370+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:40:00.369+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:40:00.374+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:40:00.374+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:40:00.375+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:40:00.379+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:40:00.380+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:40:00.380+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:40:00.389+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:40:00.390+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:40:00.399+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:00.401+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:00.405+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:00.409+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:00.411+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:40:00.419+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:40:00.419+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:00.419+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:40:00.421+07:00 DEBUG 31068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:40:00.423+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:00.430+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:40:00.432+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:40:00.434+07:00 DEBUG 31068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:40:25.701+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/10
2025-12-26T13:40:25.701+07:00 DEBUG 31068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/books/10/reviews
2025-12-26T13:40:25.703+07:00 DEBUG 31068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/books/10/reviews/check
2025-12-26T13:40:25.778+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:40:25.827+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/10
2025-12-26T13:40:25.847+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/10", parameters={}
2025-12-26T13:40:25.878+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getBookById(Integer)
2025-12-26T13:40:25.897+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/books/10/reviews
2025-12-26T13:40:25.927+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/books/10/reviews/check
2025-12-26T13:40:25.944+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        a1_0.book_id,
        a1_1.id,
        a1_1.name,
        c1_0.book_id,
        c1_1.id,
        c1_1.name,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        b1_0.id=?
2025-12-26T13:40:25.966+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:40:26.005+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:40:26.033+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:40:26.049+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:40:26.069+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.entity.Books@547638f9]
2025-12-26T13:40:26.097+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:40:26.157+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:40:26.194+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/books/10/reviews
2025-12-26T13:40:26.219+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/books/10/reviews", parameters={}
2025-12-26T13:40:26.239+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ReviewController#getReviewsForBook(Integer)
2025-12-26T13:40:26.246+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/wishlist/check/10
2025-12-26T13:40:26.253+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/books/10/reviews/check
2025-12-26T13:40:26.279+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/books/10/reviews/check", parameters={}
2025-12-26T13:40:26.290+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ReviewController#hasUserReviewed(Integer, UserDetails)
2025-12-26T13:40:26.304+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ReviewController.hasUserReviewed(java.lang.Integer,org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T13:40:26.310+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.approved,
        r1_0.book_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.user_id 
    from
        reviews r1_0 
    left join
        books b1_0 
            on b1_0.id=r1_0.book_id 
    where
        b1_0.id=? 
        and r1_0.approved=?
2025-12-26T13:40:26.310+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/wishlist/check/10
2025-12-26T13:40:26.342+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.ReviewController.hasUserReviewed(java.lang.Integer,org.springframework.security.core.userdetails.UserDetails); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T13:40:26.422+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        avg(r1_0.rating) 
    from
        reviews r1_0 
    where
        r1_0.book_id=? 
        and r1_0.approved=1
2025-12-26T13:40:26.438+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:40:26.489+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:40:26.489+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:40:26.502+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.id 
    from
        reviews r1_0 
    left join
        books b1_0 
            on b1_0.id=r1_0.book_id 
    left join
        users u1_0 
            on u1_0.user_id=r1_0.user_id 
    where
        b1_0.id=? 
        and u1_0.user_id=? 
    limit
        ?
2025-12-26T13:40:26.518+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{averageRating=0.0, reviews=[]}]
2025-12-26T13:40:26.534+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T13:40:26.550+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:40:26.550+07:00 DEBUG 31068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:40:26.566+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{hasReviewed=false}]
2025-12-26T13:40:26.585+07:00 DEBUG 31068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:40:26.598+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/wishlist/check/10
2025-12-26T13:40:26.615+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/wishlist/check/10", parameters={}
2025-12-26T13:40:26.634+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.WishlistController#check(Integer)
2025-12-26T13:40:26.655+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.check(java.lang.Integer); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:40:26.679+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.WishlistController.check(java.lang.Integer); target is of class [com.ibizabroker.lms.controller.WishlistController]
2025-12-26T13:40:26.709+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T13:40:26.756+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        a1_0.book_id,
        a1_1.id,
        a1_1.name,
        c1_0.book_id,
        c1_1.id,
        c1_1.name,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        b1_0.id=?
2025-12-26T13:40:26.852+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        w1_0.id 
    from
        wishlist w1_0 
    where
        w1_0.user_id=? 
        and w1_0.book_id=? 
    limit
        ?
2025-12-26T13:40:26.895+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T13:40:26.902+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-12-26T13:40:26.912+07:00 DEBUG 31068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:40:34.048+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:40:34.048+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:40:34.073+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:40:34.056+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T13:40:34.086+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T13:40:34.094+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T13:40:34.094+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T13:40:34.094+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T13:40:34.110+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:40:34.094+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T13:40:34.127+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:40:34.130+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T13:40:34.177+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:34.177+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:34.193+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:34.210+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:34.228+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:34.250+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T13:40:34.266+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T13:40:34.311+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:40:34.311+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T13:40:34.327+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:40:34.327+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T13:40:34.339+07:00 DEBUG 31068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:40:34.327+07:00 DEBUG 31068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T13:45:20.246+07:00  INFO 3088 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 3088 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T13:45:20.248+07:00  INFO 3088 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T13:45:22.039+07:00  INFO 3088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T13:45:22.039+07:00  INFO 3088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T13:45:22.456+07:00  INFO 3088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 403 ms. Found 14 JPA repository interfaces.
2025-12-26T13:45:22.499+07:00  INFO 3088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T13:45:22.506+07:00  INFO 3088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T13:45:22.543+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.546+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.546+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.546+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.546+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.546+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.546+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.546+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.554+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.556+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.556+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.556+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.556+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.556+07:00  INFO 3088 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T13:45:22.556+07:00  INFO 3088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-12-26T13:45:23.577+07:00  INFO 3088 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T13:45:23.606+07:00  INFO 3088 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T13:45:23.608+07:00  INFO 3088 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T13:45:23.713+07:00  INFO 3088 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T13:45:23.715+07:00  INFO 3088 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3418 ms
2025-12-26T13:45:24.276+07:00  INFO 3088 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T13:45:24.396+07:00  INFO 3088 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T13:45:24.464+07:00  INFO 3088 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T13:45:24.948+07:00  INFO 3088 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T13:45:25.018+07:00  INFO 3088 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T13:45:25.250+07:00  INFO 3088 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f3aa970
2025-12-26T13:45:25.250+07:00  INFO 3088 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T13:45:25.355+07:00  WARN 3088 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T13:45:25.378+07:00  WARN 3088 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T13:45:25.449+07:00  INFO 3088 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T13:45:27.239+07:00  INFO 3088 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T13:45:27.730+07:00  INFO 3088 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T13:45:28.441+07:00  INFO 3088 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T13:45:32.021+07:00  INFO 3088 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T13:45:32.028+07:00  WARN 3088 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T13:45:34.264+07:00  INFO 3088 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T13:45:35.376+07:00  INFO 3088 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T13:45:35.399+07:00  INFO 3088 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 15.946 seconds (process running for 16.537)
2025-12-26T13:51:30.799+07:00  INFO 3088 --- [http-nio-8080-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T13:51:30.815+07:00  INFO 3088 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T13:51:30.850+07:00  INFO 3088 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2025-12-26T13:53:03.201+07:00  WARN 3088 --- [http-nio-8080-exec-10] c.i.lms.configuration.JwtRequestFilter   : Invalid JWT signature

io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
	at io.jsonwebtoken.impl.DefaultJwtParser.verifySignature(DefaultJwtParser.java:340) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:577) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.ibizabroker.lms.util.JwtUtil.parseAllClaims(JwtUtil.java:105) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getClaim(JwtUtil.java:98) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getUsernameFromToken(JwtUtil.java:80) ~[classes/:na]
	at com.ibizabroker.lms.configuration.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-26T13:53:03.201+07:00  WARN 3088 --- [http-nio-8080-exec-8] c.i.lms.configuration.JwtRequestFilter   : Invalid JWT signature

io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
	at io.jsonwebtoken.impl.DefaultJwtParser.verifySignature(DefaultJwtParser.java:340) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:577) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.ibizabroker.lms.util.JwtUtil.parseAllClaims(JwtUtil.java:105) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getClaim(JwtUtil.java:98) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getUsernameFromToken(JwtUtil.java:80) ~[classes/:na]
	at com.ibizabroker.lms.configuration.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-26T13:53:03.201+07:00  WARN 3088 --- [http-nio-8080-exec-2] c.i.lms.configuration.JwtRequestFilter   : Invalid JWT signature

io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
	at io.jsonwebtoken.impl.DefaultJwtParser.verifySignature(DefaultJwtParser.java:340) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:577) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.ibizabroker.lms.util.JwtUtil.parseAllClaims(JwtUtil.java:105) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getClaim(JwtUtil.java:98) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getUsernameFromToken(JwtUtil.java:80) ~[classes/:na]
	at com.ibizabroker.lms.configuration.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-26T14:02:51.940+07:00  INFO 33276 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 33276 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T14:02:51.952+07:00  INFO 33276 --- [main] c.i.lms.LibraryManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-12-26T14:02:54.087+07:00  INFO 33276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T14:02:54.090+07:00  INFO 33276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T14:02:54.383+07:00  INFO 33276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 274 ms. Found 14 JPA repository interfaces.
2025-12-26T14:02:54.426+07:00  INFO 33276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T14:02:54.430+07:00  INFO 33276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T14:02:54.467+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.469+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.471+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.471+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.473+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.474+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.475+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.476+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.479+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.480+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.482+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.483+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.484+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.486+07:00  INFO 33276 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:02:54.487+07:00  INFO 33276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-12-26T14:02:55.673+07:00  INFO 33276 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T14:02:55.705+07:00  INFO 33276 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T14:02:55.706+07:00  INFO 33276 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T14:02:55.847+07:00  INFO 33276 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T14:02:55.849+07:00  INFO 33276 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3839 ms
2025-12-26T14:02:56.242+07:00  INFO 33276 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T14:02:56.361+07:00  INFO 33276 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T14:02:56.403+07:00  INFO 33276 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T14:02:56.889+07:00  INFO 33276 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T14:02:56.969+07:00  INFO 33276 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T14:02:57.210+07:00  INFO 33276 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46fdfaeb
2025-12-26T14:02:57.211+07:00  INFO 33276 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T14:02:57.269+07:00  WARN 33276 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T14:02:57.269+07:00  WARN 33276 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T14:02:57.318+07:00  INFO 33276 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T14:02:58.956+07:00  INFO 33276 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T14:02:59.415+07:00  INFO 33276 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T14:02:59.966+07:00  INFO 33276 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T14:03:02.236+07:00  INFO 33276 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T14:03:02.237+07:00  WARN 33276 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T14:03:03.889+07:00  INFO 33276 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T14:03:05.056+07:00  INFO 33276 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T14:03:05.089+07:00  INFO 33276 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 13.903 seconds (process running for 14.407)
2025-12-26T14:03:14.256+07:00  INFO 33276 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T14:03:14.289+07:00  INFO 33276 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T14:03:14.306+07:00  INFO 33276 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2025-12-26T14:16:04.258+07:00  INFO 33276 --- [http-nio-8080-exec-10] c.i.lms.controller.ChatbotController     : Authentication details: Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Authorities=[ROLE_USER]
2025-12-26T14:16:50.715+07:00  INFO 33276 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T14:16:50.715+07:00  INFO 33276 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T14:16:50.784+07:00  INFO 33276 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T14:16:50.790+07:00  INFO 33276 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T14:16:50.800+07:00  INFO 33276 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T14:17:12.125+07:00  INFO 33836 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 33836 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T14:17:12.132+07:00 DEBUG 33836 --- [main] c.i.lms.LibraryManagementApplication     : Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-26T14:17:12.136+07:00  INFO 33836 --- [main] c.i.lms.LibraryManagementApplication     : The following 1 profile is active: "dev"
2025-12-26T14:17:17.448+07:00  INFO 33836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T14:17:17.458+07:00  INFO 33836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T14:17:18.108+07:00  INFO 33836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 610 ms. Found 14 JPA repository interfaces.
2025-12-26T14:17:18.553+07:00  INFO 33836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T14:17:18.569+07:00  INFO 33836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T14:17:18.654+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.659+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.661+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.666+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.668+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.671+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.675+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.685+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.700+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.702+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.709+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.709+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.727+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.739+07:00  INFO 33836 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T14:17:18.751+07:00  INFO 33836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131 ms. Found 0 Redis repository interfaces.
2025-12-26T14:17:20.956+07:00  INFO 33836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T14:17:20.972+07:00  INFO 33836 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T14:17:20.972+07:00  INFO 33836 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T14:17:21.574+07:00  INFO 33836 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T14:17:21.574+07:00  INFO 33836 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8744 ms
2025-12-26T14:17:22.143+07:00  INFO 33836 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T14:17:22.282+07:00  INFO 33836 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T14:17:22.413+07:00  INFO 33836 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T14:17:23.623+07:00  INFO 33836 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T14:17:23.741+07:00  INFO 33836 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T14:17:24.574+07:00  INFO 33836 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@626766fd
2025-12-26T14:17:24.590+07:00  INFO 33836 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T14:17:24.696+07:00  WARN 33836 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T14:17:24.706+07:00  WARN 33836 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T14:17:24.775+07:00  INFO 33836 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T14:17:28.981+07:00  INFO 33836 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T14:17:29.393+07:00 DEBUG 33836 --- [main] org.hibernate.SQL                        : 
    alter table loans 
       modify column status enum ('ACTIVE','OVERDUE','RETURNED') not null
2025-12-26T14:17:29.409+07:00 DEBUG 33836 --- [main] org.hibernate.SQL                        : 
    alter table renewal_requests 
       modify column status enum ('APPROVED','PENDING','REJECTED') not null
2025-12-26T14:17:29.425+07:00 DEBUG 33836 --- [main] org.hibernate.SQL                        : 
    alter table reservations 
       modify column status enum ('ACTIVE','CANCELLED','EXPIRED','FULFILLED') not null
2025-12-26T14:17:30.263+07:00  INFO 33836 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T14:17:31.033+07:00  INFO 33836 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T14:17:33.121+07:00 DEBUG 33836 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-26T14:17:33.121+07:00 DEBUG 33836 --- [main] c.i.lms.configuration.JwtRequestFilter   : Filter 'jwtRequestFilter' configured for use
2025-12-26T14:17:37.698+07:00  INFO 33836 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T14:17:37.699+07:00  WARN 33836 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T14:17:41.754+07:00 DEBUG 33836 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 69 mappings in 'requestMappingHandlerMapping'
2025-12-26T14:17:41.894+07:00 DEBUG 33836 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T14:17:42.133+07:00  INFO 33836 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T14:17:42.492+07:00 DEBUG 33836 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T14:17:43.253+07:00 DEBUG 33836 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T14:17:43.410+07:00 DEBUG 33836 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T14:17:45.172+07:00  INFO 33836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T14:17:45.224+07:00  INFO 33836 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 34.95 seconds (process running for 36.506)
2025-12-26T14:17:46.107+07:00 DEBUG 33836 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T14:17:46.226+07:00 DEBUG 33836 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T14:17:46.235+07:00 DEBUG 33836 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:17:46.279+07:00 DEBUG 33836 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:17:55.040+07:00  INFO 33836 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T14:17:55.042+07:00  INFO 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T14:17:55.042+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T14:17:55.042+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T14:17:55.042+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T14:17:55.061+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@67cafa68
2025-12-26T14:17:55.067+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6287b65f
2025-12-26T14:17:55.069+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T14:17:55.074+07:00  INFO 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 28 ms
2025-12-26T14:17:55.185+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T14:17:55.185+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T14:17:55.275+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:17:55.275+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:17:55.293+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=true&page=0&size=10
2025-12-26T14:17:55.293+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T14:17:55.301+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T14:17:55.301+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=true&page=0&size=10", parameters={masked}
2025-12-26T14:17:55.308+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T14:17:55.308+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T14:17:55.405+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T14:17:55.405+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T14:17:55.456+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:17:55.456+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:17:55.476+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:17:55.491+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:17:55.509+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:17:55.509+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T14:17:55.509+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:17:55.655+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:17:55.655+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:17:55.655+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T14:17:55.655+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T14:17:56.123+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:17:56.123+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:18:12.842+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/wishlist/my-wishlist
2025-12-26T14:18:12.873+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/wishlist/my-wishlist
2025-12-26T14:18:13.506+07:00  WARN 33836 --- [http-nio-8080-exec-4] c.i.lms.configuration.JwtRequestFilter   : Invalid JWT signature

io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
	at io.jsonwebtoken.impl.DefaultJwtParser.verifySignature(DefaultJwtParser.java:340) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:577) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821) ~[jjwt-impl-0.12.5.jar:0.12.5]
	at com.ibizabroker.lms.util.JwtUtil.parseAllClaims(JwtUtil.java:105) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getClaim(JwtUtil.java:98) ~[classes/:na]
	at com.ibizabroker.lms.util.JwtUtil.getUsernameFromToken(JwtUtil.java:80) ~[classes/:na]
	at com.ibizabroker.lms.configuration.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-26T14:18:13.532+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:29:35.457+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/authenticate
2025-12-26T14:29:35.466+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/authenticate
2025-12-26T14:29:35.466+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:29:35.477+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/authenticate
2025-12-26T14:29:35.477+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/authenticate", parameters={}
2025-12-26T14:29:35.488+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AuthController#authenticate(LoginRequest)
2025-12-26T14:29:35.580+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest[username=admin, password=admin123]]
2025-12-26T14:29:35.745+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:29:35.760+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:29:36.277+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-12-26T14:29:36.277+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        distinct u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    left join
        user_role r1_0 
            on u1_0.user_id=r1_0.user_id 
    left join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        lower(u1_0.username)=lower(?)
2025-12-26T14:29:36.368+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2025-12-26T14:29:36.375+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse[token=eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsInJvbGVzIjpbIlJPTEVfQURNSU4iXSwic3ViIjoiYWR (truncated)...]
2025-12-26T14:29:36.385+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:29:36.424+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T14:29:36.430+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T14:29:36.489+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T14:29:36.490+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T14:29:36.547+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:29:36.547+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:29:36.547+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:29:36.547+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:29:36.583+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T14:29:36.583+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T14:29:36.583+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T14:29:36.584+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T14:29:36.586+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T14:29:36.585+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T14:29:36.589+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T14:29:36.589+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:29:36.613+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:29:36.613+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T14:29:36.644+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T14:29:36.661+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T14:29:36.678+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:29:36.678+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:29:36.709+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T14:29:36.711+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T14:29:36.711+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T14:29:36.744+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T14:29:36.778+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T14:29:36.811+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T14:29:36.824+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T14:29:36.828+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T14:29:36.828+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T14:29:36.843+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:29:36.846+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:29:36.846+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@68d733ce, totalUnpaidFines=0.00, statusDistribution={ACTIVE=1, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T14:29:36.846+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:29:36.846+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@3900cc83]
2025-12-26T14:29:36.877+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:29:36.894+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:29:43.187+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T14:29:43.207+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:29:43.274+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T14:29:43.288+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T14:29:43.300+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T14:29:43.333+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T14:29:43.535+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:43.565+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:43.605+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:43.619+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:43.627+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:29:43.633+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T14:29:43.653+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:29:51.428+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T14:29:51.440+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T14:29:51.461+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:29:51.468+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:29:51.494+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T14:29:51.494+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T14:29:51.494+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T14:29:51.511+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:29:51.511+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:29:51.527+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T14:29:51.544+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:51.560+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:29:51.560+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@febeff7, com.ibizabroker.lms.dto.UserDto@6d26a6c0]]
2025-12-26T14:29:51.577+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:29:53.076+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/loans
2025-12-26T14:29:53.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T14:29:53.099+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:29:53.111+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:29:53.128+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T14:29:53.128+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T14:29:53.128+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T14:29:53.144+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:29:53.144+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:29:53.677+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T14:29:53.694+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:29:53.694+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@3822e988, com.ibizabroker.lms.dto.LoanDetailsDto@50965f66]]
2025-12-26T14:29:53.694+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:29:55.198+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T14:29:55.209+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:29:55.228+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:29:55.254+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T14:29:55.263+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T14:29:55.267+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T14:29:55.267+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:29:55.267+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:29:55.267+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T14:29:55.280+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:29:55.280+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@70a2e47e, com.ibizabroker.lms.dto.LoanDetailsDto@c016aa3]]
2025-12-26T14:29:55.292+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:29:56.631+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T14:29:56.640+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:29:56.646+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:29:56.664+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T14:29:56.664+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T14:29:56.664+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T14:29:56.664+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:29:56.680+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:29:56.680+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T14:29:56.697+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:29:56.710+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@371883ea, com.ibizabroker.lms.dto.LoanDetailsDto@7b874f7]]
2025-12-26T14:29:56.713+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:29:58.722+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T14:29:58.725+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:29:58.726+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T14:29:58.731+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T14:29:58.732+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T14:29:58.732+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T14:29:58.784+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:58.794+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:58.794+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:58.810+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:29:58.810+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:29:58.810+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T14:29:58.829+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:30:05.429+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T14:30:05.443+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T14:30:05.465+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:30:05.473+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:30:05.499+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T14:30:05.501+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T14:30:05.506+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T14:30:05.513+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:30:05.520+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:30:05.526+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T14:30:05.539+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:30:05.558+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:30:05.561+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@70a0429b, com.ibizabroker.lms.dto.UserDto@755a2379]]
2025-12-26T14:30:05.572+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:30:08.466+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=10
2025-12-26T14:30:08.612+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:30:08.639+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=10
2025-12-26T14:30:08.661+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=10", parameters={masked}
2025-12-26T14:30:08.682+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T14:30:08.712+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T14:30:08.727+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:30:08.751+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:30:08.775+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T14:30:08.786+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:30:08.787+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T14:30:08.794+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:30:14.837+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/books/1/reviews
2025-12-26T14:30:14.843+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/1
2025-12-26T14:30:14.860+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:30:14.978+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/books/1/reviews
2025-12-26T14:30:15.026+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/1
2025-12-26T14:30:15.069+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/1", parameters={}
2025-12-26T14:30:15.093+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:30:15.112+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getBookById(Integer)
2025-12-26T14:30:15.128+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:30:15.198+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/books/1/reviews
2025-12-26T14:30:15.212+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/books/1/reviews", parameters={}
2025-12-26T14:30:15.218+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.id,
        a1_0.book_id,
        a1_1.id,
        a1_1.name,
        c1_0.book_id,
        c1_1.id,
        c1_1.name,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        b1_0.id=?
2025-12-26T14:30:15.218+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ReviewController#getReviewsForBook(Integer)
2025-12-26T14:30:15.232+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.approved,
        r1_0.book_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.user_id 
    from
        reviews r1_0 
    left join
        books b1_0 
            on b1_0.id=r1_0.book_id 
    where
        b1_0.id=? 
        and r1_0.approved=?
2025-12-26T14:30:15.232+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:30:15.232+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.entity.Books@4a81bf92]
2025-12-26T14:30:15.232+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:30:15.246+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        avg(r1_0.rating) 
    from
        reviews r1_0 
    where
        r1_0.book_id=? 
        and r1_0.approved=1
2025-12-26T14:30:15.265+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:30:15.266+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{reviews=[], averageRating=0.0}]
2025-12-26T14:30:15.273+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:30:24.151+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/loans
2025-12-26T14:30:24.163+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T14:30:24.182+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:30:24.193+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:30:24.212+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T14:30:24.216+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T14:30:24.216+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T14:30:24.216+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:30:24.216+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:30:24.230+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T14:30:24.230+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:30:24.247+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@7e8a92fe, com.ibizabroker.lms.dto.LoanDetailsDto@5f95805e]]
2025-12-26T14:30:24.247+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:14.267+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/fines
2025-12-26T14:31:14.281+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/fines
2025-12-26T14:31:14.300+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:14.306+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:14.322+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/fines
2025-12-26T14:31:14.323+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/fines", parameters={}
2025-12-26T14:31:14.326+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.FineController#getUnpaidFines()
2025-12-26T14:31:14.331+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.FineController.getUnpaidFines(); target is of class [com.ibizabroker.lms.controller.FineController]
2025-12-26T14:31:14.335+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.FineController.getUnpaidFines(); target is of class [com.ibizabroker.lms.controller.FineController]
2025-12-26T14:31:14.341+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.fine_amount 
    from
        loans l1_0 
    join
        books b1_0 
            on l1_0.book_id=b1_0.id 
    join
        users u1_0 
            on l1_0.member_id=u1_0.user_id 
    where
        l1_0.fine_status='UNPAID' 
    order by
        l1_0.return_date desc
2025-12-26T14:31:14.351+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:14.352+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:31:14.354+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:17.165+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/reviews
2025-12-26T14:31:17.171+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/reviews
2025-12-26T14:31:17.189+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:17.197+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:17.205+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/reviews
2025-12-26T14:31:17.207+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/reviews", parameters={}
2025-12-26T14:31:17.210+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ReviewController#getAllReviews()
2025-12-26T14:31:17.214+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.ReviewController.getAllReviews(); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T14:31:17.214+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.ReviewController.getAllReviews(); target is of class [com.ibizabroker.lms.controller.ReviewController]
2025-12-26T14:31:17.228+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.approved,
        r1_0.book_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.user_id 
    from
        reviews r1_0 
    order by
        r1_0.created_at desc
2025-12-26T14:31:17.245+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:17.245+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-12-26T14:31:17.262+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:22.185+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/settings
2025-12-26T14:31:22.197+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/settings
2025-12-26T14:31:22.213+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:22.220+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:22.232+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/settings
2025-12-26T14:31:22.233+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/settings", parameters={}
2025-12-26T14:31:22.234+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminSettingsController#list()
2025-12-26T14:31:22.237+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminSettingsController.list(); target is of class [com.ibizabroker.lms.controller.AdminSettingsController]
2025-12-26T14:31:22.239+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminSettingsController.list(); target is of class [com.ibizabroker.lms.controller.AdminSettingsController]
2025-12-26T14:31:22.245+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        ss1_0.id,
        ss1_0.setting_key,
        ss1_0.updated_at,
        ss1_0.setting_value 
    from
        system_settings ss1_0
2025-12-26T14:31:22.247+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:22.247+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:31:22.260+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:25.336+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/books/categories
2025-12-26T14:31:25.357+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/books/categories
2025-12-26T14:31:25.652+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:25.705+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:25.804+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/books/categories
2025-12-26T14:31:25.814+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/books/categories", parameters={}
2025-12-26T14:31:25.822+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.BooksController#getAllCategories()
2025-12-26T14:31:25.834+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllCategories(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:31:25.838+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllCategories(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:31:25.848+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.name 
    from
        categories c1_0
2025-12-26T14:31:25.865+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:25.867+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.entity.Category@783d08e3, com.ibizabroker.lms.entity.Category@4b6d9911, com.ibi (truncated)...]
2025-12-26T14:31:25.872+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:28.036+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/books/authors
2025-12-26T14:31:28.048+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/books/authors
2025-12-26T14:31:28.068+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:28.075+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:28.113+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/books/authors
2025-12-26T14:31:28.113+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/books/authors", parameters={}
2025-12-26T14:31:28.113+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.BooksController#getAllAuthors()
2025-12-26T14:31:28.113+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllAuthors(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:31:28.126+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllAuthors(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:31:28.129+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        a1_0.id,
        a1_0.name 
    from
        authors a1_0
2025-12-26T14:31:28.146+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:28.146+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.entity.Author@debd9c5, com.ibizabroker.lms.entity.Author@7e6e4fdc, com.ibizabro (truncated)...]
2025-12-26T14:31:28.159+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:43.914+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/news
2025-12-26T14:31:43.917+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/news
2025-12-26T14:31:43.937+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:43.948+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:43.977+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/news
2025-12-26T14:31:43.979+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/news", parameters={}
2025-12-26T14:31:43.979+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminNewsController#getAll()
2025-12-26T14:31:43.979+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminNewsController.getAll(); target is of class [com.ibizabroker.lms.controller.AdminNewsController]
2025-12-26T14:31:43.979+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminNewsController.getAll(); target is of class [com.ibizabroker.lms.controller.AdminNewsController]
2025-12-26T14:31:43.979+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        n1_0.id,
        n1_0.content,
        n1_0.created_at,
        n1_0.title 
    from
        news n1_0
2025-12-26T14:31:43.994+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:43.994+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-12-26T14:31:43.994+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:46.242+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/renewals?status=PENDING
2025-12-26T14:31:46.323+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/renewals?status=PENDING
2025-12-26T14:31:46.396+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:46.453+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:46.558+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/renewals?status=PENDING
2025-12-26T14:31:46.571+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/renewals?status=PENDING", parameters={masked}
2025-12-26T14:31:46.581+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminRenewalController#list(String)
2025-12-26T14:31:46.647+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:31:46.664+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:31:46.688+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.status=?
2025-12-26T14:31:46.733+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:46.738+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:31:46.747+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:50.445+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T14:31:50.455+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T14:31:50.526+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:50.609+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:50.653+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T14:31:50.665+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T14:31:50.670+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T14:31:50.675+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:31:50.675+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:31:50.692+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T14:31:50.692+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:31:50.709+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:50.709+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@2299e2e1, com.ibizabroker.lms.dto.UserDto@6dc13f32]]
2025-12-26T14:31:50.709+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:54.504+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/fines
2025-12-26T14:31:54.607+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/fines
2025-12-26T14:31:54.678+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:54.696+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:54.738+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/fines
2025-12-26T14:31:54.751+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/fines", parameters={}
2025-12-26T14:31:54.761+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.FineController#getUnpaidFines()
2025-12-26T14:31:54.783+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.FineController.getUnpaidFines(); target is of class [com.ibizabroker.lms.controller.FineController]
2025-12-26T14:31:54.801+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.FineController.getUnpaidFines(); target is of class [com.ibizabroker.lms.controller.FineController]
2025-12-26T14:31:54.825+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.fine_amount 
    from
        loans l1_0 
    join
        books b1_0 
            on l1_0.book_id=b1_0.id 
    join
        users u1_0 
            on l1_0.member_id=u1_0.user_id 
    where
        l1_0.fine_status='UNPAID' 
    order by
        l1_0.return_date desc
2025-12-26T14:31:54.869+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:54.883+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:31:54.891+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:31:56.579+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/loans
2025-12-26T14:31:56.587+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T14:31:56.609+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:31:56.612+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:31:56.644+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T14:31:56.646+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T14:31:56.646+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T14:31:56.646+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:31:56.646+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:31:56.646+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T14:31:56.662+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:31:56.662+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@6cb3cc81, com.ibizabroker.lms.dto.LoanDetailsDto@16fb8f4e]]
2025-12-26T14:31:56.662+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:35:54.927+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/loans
2025-12-26T14:35:54.932+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T14:35:54.946+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:35:54.968+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:35:54.988+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T14:35:54.990+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T14:35:54.993+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T14:35:54.998+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:35:55.000+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:35:55.002+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T14:35:55.018+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:35:55.024+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@5527f17f, com.ibizabroker.lms.dto.LoanDetailsDto@78205da5]]
2025-12-26T14:35:55.032+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:36:01.739+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T14:36:01.740+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T14:36:01.892+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T14:36:01.928+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T14:36:01.977+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:36:02.005+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:36:02.021+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:36:02.051+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:36:02.083+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T14:36:02.094+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T14:36:02.100+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T14:36:02.102+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T14:36:02.108+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T14:36:02.114+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T14:36:02.120+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:36:02.125+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T14:36:02.131+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:36:02.133+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T14:36:02.134+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T14:36:02.146+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T14:36:02.154+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T14:36:02.170+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T14:36:02.176+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T14:36:02.182+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T14:36:02.196+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:36:02.210+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:36:02.214+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@c44a0fa, totalUnpaidFines=0.00, statusDistribution={ACTIVE=1, RETURNED=1, OVERDUE=0 (truncated)...]
2025-12-26T14:36:02.212+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:36:02.220+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:36:02.230+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T14:36:02.243+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T14:36:02.257+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T14:36:02.266+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T14:36:02.280+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T14:36:02.304+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:36:02.321+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:36:02.324+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@2b9f724f]
2025-12-26T14:36:02.328+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:36:20.643+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T14:36:20.647+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:36:20.656+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=1000
2025-12-26T14:36:20.672+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=1000", parameters={masked}
2025-12-26T14:36:20.672+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T14:36:20.690+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T14:36:20.706+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:36:20.710+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:36:20.723+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:36:20.723+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:36:20.723+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:36:20.723+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 1 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T14:36:20.739+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:36:29.191+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/renewals?status=PENDING
2025-12-26T14:36:29.301+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/renewals?status=PENDING
2025-12-26T14:36:29.337+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:36:29.355+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:36:29.372+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/renewals?status=PENDING
2025-12-26T14:36:29.389+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/renewals?status=PENDING", parameters={masked}
2025-12-26T14:36:29.389+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminRenewalController#list(String)
2025-12-26T14:36:29.410+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:36:29.413+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:36:29.416+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.status=?
2025-12-26T14:36:29.420+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:36:29.421+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:36:29.423+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:36:32.259+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/news
2025-12-26T14:36:32.294+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/news
2025-12-26T14:36:32.331+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:36:32.343+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:36:32.362+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/news
2025-12-26T14:36:32.370+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/news", parameters={}
2025-12-26T14:36:32.373+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminNewsController#getAll()
2025-12-26T14:36:32.373+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminNewsController.getAll(); target is of class [com.ibizabroker.lms.controller.AdminNewsController]
2025-12-26T14:36:32.373+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminNewsController.getAll(); target is of class [com.ibizabroker.lms.controller.AdminNewsController]
2025-12-26T14:36:32.390+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        n1_0.id,
        n1_0.content,
        n1_0.created_at,
        n1_0.title 
    from
        news n1_0
2025-12-26T14:36:32.390+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:36:32.390+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-12-26T14:36:32.390+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:36:34.778+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/renewals?status=PENDING
2025-12-26T14:36:34.796+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/renewals?status=PENDING
2025-12-26T14:36:34.834+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:36:34.882+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:36:35.172+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/renewals?status=PENDING
2025-12-26T14:36:35.209+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/renewals?status=PENDING", parameters={masked}
2025-12-26T14:36:35.235+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminRenewalController#list(String)
2025-12-26T14:36:35.244+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:36:35.251+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:36:35.260+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.status=?
2025-12-26T14:36:35.308+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:36:35.314+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:36:35.319+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:36:40.662+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/books/authors
2025-12-26T14:36:40.673+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/books/authors
2025-12-26T14:36:40.698+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:36:40.707+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:36:40.731+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/books/authors
2025-12-26T14:36:40.732+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/books/authors", parameters={}
2025-12-26T14:36:40.735+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.BooksController#getAllAuthors()
2025-12-26T14:36:40.737+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllAuthors(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:36:40.743+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllAuthors(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:36:40.749+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.id,
        a1_0.name 
    from
        authors a1_0
2025-12-26T14:36:40.760+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:36:40.761+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.entity.Author@e96083e, com.ibizabroker.lms.entity.Author@7da29162, com.ibizabro (truncated)...]
2025-12-26T14:36:40.763+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:36:45.373+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/loans
2025-12-26T14:36:45.403+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/loans
2025-12-26T14:36:45.443+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:36:45.455+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:36:45.489+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/loans
2025-12-26T14:36:45.489+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/loans", parameters={}
2025-12-26T14:36:45.489+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminLoanController#getAllLoans()
2025-12-26T14:36:45.506+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:36:45.506+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminLoanController.getAllLoans(); target is of class [com.ibizabroker.lms.controller.AdminLoanController]
2025-12-26T14:36:45.506+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.loan_date,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.status,
        l1_0.fine_amount,
        cast(case 
            when l1_0.return_date is not null 
            and l1_0.return_date>l1_0.due_date 
                then datediff(l1_0.return_date, l1_0.due_date) 
            when l1_0.status='OVERDUE' 
                then datediff(current_date, l1_0.due_date) 
            else 0 
    end as signed) 
from
    loans l1_0 
join
    books b1_0 
        on l1_0.book_id=b1_0.id 
join
    users u1_0 
        on l1_0.member_id=u1_0.user_id 
order by
    l1_0.loan_date desc
2025-12-26T14:36:45.522+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:36:45.523+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.dto.LoanDetailsDto@20e4bf79, com.ibizabroker.lms.dto.LoanDetailsDto@43d7fad0]]
2025-12-26T14:36:45.523+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:39:45.811+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:39:45.848+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:39:45.889+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:39:45.915+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:39:45.941+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:39:45.974+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:39:46.029+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:39:46.038+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:39:46.087+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:39:46.087+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@69e4ebd6, com.ibizabroker.lms.entity.Books@75980d32, com.ibizabrok (truncated)...]
2025-12-26T14:39:46.104+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:42:38.093+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:42:38.095+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:42:38.095+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:42:38.097+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:42:38.097+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:42:38.099+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:42:38.103+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:42:38.105+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:42:38.107+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:42:38.107+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@7b14e6ea, com.ibizabroker.lms.entity.Books@237ad0f, com.ibizabroke (truncated)...]
2025-12-26T14:42:38.109+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:42:50.080+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:42:50.081+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:42:50.081+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:42:50.082+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:42:50.082+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:42:50.082+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:42:50.084+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:42:50.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:42:50.088+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:42:50.088+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@499e0ec0, com.ibizabroker.lms.entity.Books@282d2f4f, com.ibizabrok (truncated)...]
2025-12-26T14:42:50.089+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:42:55.371+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:42:55.373+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:42:55.375+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:42:55.375+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:42:55.376+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:42:55.379+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:42:55.387+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:42:55.405+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:42:55.437+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:42:55.474+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@1f201e00, com.ibizabroker.lms.entity.Books@1b86256b, com.ibizabrok (truncated)...]
2025-12-26T14:42:55.519+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:46:12.594+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:46:12.594+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:46:12.594+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:46:12.594+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:46:12.594+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:46:12.594+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:46:12.608+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:46:12.613+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:46:12.617+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:46:12.617+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@6040a7d8, com.ibizabroker.lms.entity.Books@516f4365, com.ibizabrok (truncated)...]
2025-12-26T14:46:12.621+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:46:26.791+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:46:26.794+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:46:26.795+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:46:26.796+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:46:26.798+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:46:26.803+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:46:26.828+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:46:26.839+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:46:26.903+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:46:26.922+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@665b2b2d, com.ibizabroker.lms.entity.Books@430d878, com.ibizabroke (truncated)...]
2025-12-26T14:46:27.231+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:46:27.231+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:46:27.370+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:46:27.395+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:46:27.416+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:46:27.423+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:46:27.428+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:46:27.496+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:46:27.531+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:46:27.541+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:46:27.549+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@629c45e8, com.ibizabroker.lms.entity.Books@4054d474, com.ibizabrok (truncated)...]
2025-12-26T14:46:27.553+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:47:15.916+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/details
2025-12-26T14:47:15.917+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/chart-data
2025-12-26T14:47:15.923+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/details
2025-12-26T14:47:15.923+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/chart-data
2025-12-26T14:47:15.941+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:47:15.941+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:47:15.949+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:47:15.953+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:47:15.970+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/details
2025-12-26T14:47:15.972+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/chart-data
2025-12-26T14:47:15.972+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/details", parameters={}
2025-12-26T14:47:15.972+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/chart-data", parameters={}
2025-12-26T14:47:15.974+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminDashboardController#getDashboardDetails()
2025-12-26T14:47:15.974+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getChartData()
2025-12-26T14:47:15.977+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T14:47:15.979+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:47:15.981+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminController.getChartData(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:47:15.984+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminDashboardController.getDashboardDetails(); target is of class [com.ibizabroker.lms.controller.AdminDashboardController]
2025-12-26T14:47:15.986+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    SELECT
        MONTH(l.loan_date) AS month,
        COUNT(l.id) AS count 
    FROM
        loans l 
    WHERE
        l.loan_date BETWEEN ? AND ? 
    GROUP BY
        MONTH(l.loan_date) 
    ORDER BY
        month ASC
2025-12-26T14:47:15.988+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        books b1_0
2025-12-26T14:47:16.005+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        l1_0.status,
        count(l1_0.id) 
    from
        loans l1_0 
    group by
        l1_0.status
2025-12-26T14:47:16.010+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        users u1_0
2025-12-26T14:47:16.016+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T14:47:16.020+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T14:47:16.020+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:47:16.024+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:47:16.024+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyLoans=[J@1c7fd9dc, totalUnpaidFines=0.00, statusDistribution={ACTIVE=1, RETURNED=1, OVERDUE= (truncated)...]
2025-12-26T14:47:16.028+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:47:16.036+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(l1_0.id) 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:47:16.039+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0
2025-12-26T14:47:16.044+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(l1_0.fine_amount), 0) 
    from
        loans l1_0 
    where
        l1_0.fine_status='UNPAID'
2025-12-26T14:47:16.050+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.book_id,
        count(l1_0.book_id) 
    from
        loans l1_0 
    group by
        l1_0.book_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T14:47:16.054+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.member_id,
        count(l1_0.member_id) 
    from
        loans l1_0 
    group by
        l1_0.member_id 
    order by
        2 desc 
    limit
        ?
2025-12-26T14:47:16.059+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    order by
        l1_0.loan_date desc 
    limit
        ?
2025-12-26T14:47:16.071+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        l1_0.id,
        l1_0.book_id,
        l1_0.due_date,
        l1_0.fine_amount,
        l1_0.fine_status,
        l1_0.loan_date,
        l1_0.member_id,
        l1_0.return_date,
        l1_0.status 
    from
        loans l1_0 
    where
        l1_0.status=?
2025-12-26T14:47:16.073+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:47:16.077+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.dto.DashboardDetailsDto@12239733]
2025-12-26T14:47:16.083+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:47:19.998+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T14:47:20.076+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T14:47:20.128+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:47:20.153+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:47:20.175+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T14:47:20.178+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T14:47:20.178+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T14:47:20.178+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:47:20.196+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:47:20.196+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T14:47:20.219+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:47:20.226+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:47:20.229+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@22dd3969, com.ibizabroker.lms.dto.UserDto@21ef2a07]]
2025-12-26T14:47:20.229+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:47:23.377+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/renewals?status=PENDING
2025-12-26T14:47:23.410+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/renewals?status=PENDING
2025-12-26T14:47:23.446+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:47:23.450+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:47:23.478+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/renewals?status=PENDING
2025-12-26T14:47:23.478+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/renewals?status=PENDING", parameters={masked}
2025-12-26T14:47:23.478+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminRenewalController#list(String)
2025-12-26T14:47:23.495+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:47:23.495+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:47:23.513+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.status=?
2025-12-26T14:47:23.530+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:47:23.543+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:47:23.551+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:47:53.520+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/news
2025-12-26T14:47:53.703+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/news
2025-12-26T14:47:53.753+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:47:53.770+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:47:53.818+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/news
2025-12-26T14:47:53.832+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/news", parameters={}
2025-12-26T14:47:53.839+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminNewsController#getAll()
2025-12-26T14:47:53.849+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminNewsController.getAll(); target is of class [com.ibizabroker.lms.controller.AdminNewsController]
2025-12-26T14:47:53.862+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminNewsController.getAll(); target is of class [com.ibizabroker.lms.controller.AdminNewsController]
2025-12-26T14:47:53.884+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        n1_0.id,
        n1_0.content,
        n1_0.created_at,
        n1_0.title 
    from
        news n1_0
2025-12-26T14:47:53.914+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:47:53.916+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [[]]
2025-12-26T14:47:53.921+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:47:56.995+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/books/authors
2025-12-26T14:47:57.001+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/books/authors
2025-12-26T14:47:57.013+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:47:57.017+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:47:57.028+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/books/authors
2025-12-26T14:47:57.028+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/books/authors", parameters={}
2025-12-26T14:47:57.030+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.BooksController#getAllAuthors()
2025-12-26T14:47:57.032+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllAuthors(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:47:57.033+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllAuthors(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:47:57.036+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.id,
        a1_0.name 
    from
        authors a1_0
2025-12-26T14:47:57.042+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:47:57.042+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.entity.Author@32e6a52, com.ibizabroker.lms.entity.Author@3f7da8c8, com.ibizabro (truncated)...]
2025-12-26T14:47:57.042+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:47:58.849+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/books/categories
2025-12-26T14:47:58.863+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/books/categories
2025-12-26T14:47:58.889+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:47:58.893+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:47:58.902+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/books/categories
2025-12-26T14:47:58.903+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/books/categories", parameters={}
2025-12-26T14:47:58.904+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.BooksController#getAllCategories()
2025-12-26T14:47:58.906+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllCategories(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:47:58.908+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.BooksController.getAllCategories(); target is of class [com.ibizabroker.lms.controller.BooksController]
2025-12-26T14:47:58.915+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.name 
    from
        categories c1_0
2025-12-26T14:47:58.920+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:47:58.920+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.entity.Category@4e2b1318, com.ibizabroker.lms.entity.Category@5261ec91, com.ibi (truncated)...]
2025-12-26T14:47:58.920+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:48:02.594+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/renewals?status=PENDING
2025-12-26T14:48:02.615+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/renewals?status=PENDING
2025-12-26T14:48:02.724+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:48:02.740+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:48:02.761+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/renewals?status=PENDING
2025-12-26T14:48:02.777+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/renewals?status=PENDING", parameters={masked}
2025-12-26T14:48:02.777+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminRenewalController#list(String)
2025-12-26T14:48:02.795+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:48:02.795+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:48:02.795+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.status=?
2025-12-26T14:48:02.812+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:48:02.818+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:48:02.821+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:48:30.373+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/fines
2025-12-26T14:48:30.460+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/fines
2025-12-26T14:48:30.476+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:48:30.485+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:48:30.491+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/fines
2025-12-26T14:48:30.491+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/fines", parameters={}
2025-12-26T14:48:30.491+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.FineController#getUnpaidFines()
2025-12-26T14:48:30.506+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.FineController.getUnpaidFines(); target is of class [com.ibizabroker.lms.controller.FineController]
2025-12-26T14:48:30.509+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.FineController.getUnpaidFines(); target is of class [com.ibizabroker.lms.controller.FineController]
2025-12-26T14:48:30.510+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        l1_0.id,
        b1_0.name,
        u1_0.name,
        l1_0.due_date,
        l1_0.return_date,
        l1_0.fine_amount 
    from
        loans l1_0 
    join
        books b1_0 
            on l1_0.book_id=b1_0.id 
    join
        users u1_0 
            on l1_0.member_id=u1_0.user_id 
    where
        l1_0.fine_status='UNPAID' 
    order by
        l1_0.return_date desc
2025-12-26T14:48:30.528+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:48:30.528+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:48:30.528+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:48:58.483+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/renewals?status=PENDING
2025-12-26T14:48:58.491+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/renewals?status=PENDING
2025-12-26T14:48:58.506+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:48:58.517+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:48:58.529+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/renewals?status=PENDING
2025-12-26T14:48:58.529+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/renewals?status=PENDING", parameters={masked}
2025-12-26T14:48:58.531+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminRenewalController#list(String)
2025-12-26T14:48:58.533+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:48:58.535+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.ibizabroker.lms.controller.AdminRenewalController.list(java.lang.String); target is of class [com.ibizabroker.lms.controller.AdminRenewalController]
2025-12-26T14:48:58.549+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        rr1_0.id,
        rr1_0.admin_note,
        rr1_0.created_at,
        rr1_0.decided_at,
        rr1_0.extra_days,
        rr1_0.loan_id,
        rr1_0.member_id,
        rr1_0.status 
    from
        renewal_requests rr1_0 
    where
        rr1_0.status=?
2025-12-26T14:48:58.559+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:48:58.566+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-12-26T14:48:58.570+07:00 DEBUG 33836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:49:48.858+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2025-12-26T14:49:48.923+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2025-12-26T14:49:48.991+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:49:49.026+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:49:49.059+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2025-12-26T14:49:49.059+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2025-12-26T14:49:49.059+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.AdminController#getAllUsers()
2025-12-26T14:49:49.082+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:49:49.085+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public java.util.List com.ibizabroker.lms.controller.AdminController.getAllUsers(); target is of class [com.ibizabroker.lms.controller.AdminController]
2025-12-26T14:49:49.095+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0
2025-12-26T14:49:49.099+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:49:49.102+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:49:49.104+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [[com.ibizabroker.lms.dto.UserDto@7a396fef, com.ibizabroker.lms.dto.UserDto@80ed17f]]
2025-12-26T14:49:49.106+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:49:51.618+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:49:51.791+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:49:51.826+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:49:51.884+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:49:51.932+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:49:51.965+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:49:52.001+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:49:52.022+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:49:52.031+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:49:52.034+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@6306161e, com.ibizabroker.lms.entity.Books@7f884354, com.ibizabrok (truncated)...]
2025-12-26T14:49:52.048+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:53:25.551+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:53:25.552+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:53:25.554+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:53:25.554+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:53:25.554+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:53:25.555+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:53:25.558+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:53:25.561+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:53:25.564+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:53:25.565+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@751cd87a, com.ibizabroker.lms.entity.Books@66703de7, com.ibizabrok (truncated)...]
2025-12-26T14:53:25.566+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:53:37.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:53:37.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:53:37.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:53:37.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:53:37.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:53:37.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:53:37.086+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:53:37.102+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:53:37.102+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:53:37.102+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@262ee0ae, com.ibizabroker.lms.entity.Books@12a713ef, com.ibizabrok (truncated)...]
2025-12-26T14:53:37.102+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:53:39.589+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:53:39.602+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:53:39.619+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:53:39.634+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:53:39.657+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:53:39.670+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:53:39.682+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:53:39.695+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:53:39.700+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:53:39.707+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@57cf329f, com.ibizabroker.lms.entity.Books@4cfdc8d5, com.ibizabrok (truncated)...]
2025-12-26T14:53:39.712+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:54:14.603+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:54:14.714+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:54:14.745+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:54:14.759+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:54:14.782+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:54:14.805+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:54:14.852+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:54:14.885+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:54:14.915+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:54:14.923+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@5d33fd53, com.ibizabroker.lms.entity.Books@4a2a72a0, com.ibizabrok (truncated)...]
2025-12-26T14:54:14.971+07:00 DEBUG 33836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:55:07.325+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:55:07.326+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:55:07.326+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:55:07.327+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:55:07.328+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:55:07.331+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:55:07.337+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:55:07.343+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:55:07.352+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:55:07.353+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@31884201, com.ibizabroker.lms.entity.Books@4b940e99, com.ibizabrok (truncated)...]
2025-12-26T14:55:07.358+07:00 DEBUG 33836 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:56:18.195+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:56:18.195+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:56:18.195+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:56:18.195+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:56:18.200+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:56:18.200+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:56:18.203+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:56:18.206+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:56:18.211+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:56:18.212+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@613e260c, com.ibizabroker.lms.entity.Books@be4940e, com.ibizabroke (truncated)...]
2025-12-26T14:56:18.214+07:00 DEBUG 33836 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:56:24.199+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:56:24.202+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:56:24.207+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:56:24.208+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:56:24.214+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:56:24.231+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:56:24.245+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:56:24.256+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:56:24.272+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:56:24.274+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@349d9d0a, com.ibizabroker.lms.entity.Books@542cc5ad, com.ibizabrok (truncated)...]
2025-12-26T14:56:24.278+07:00 DEBUG 33836 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:56:50.744+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T14:56:50.744+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:56:50.748+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T14:56:50.750+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T14:56:50.752+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T14:56:50.757+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    order by
        b1_0.id desc 
    limit
        ?
2025-12-26T14:56:50.797+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:56:50.840+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:56:50.900+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:56:50.905+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@7afc8a54, com.ibizabroker.lms.entity.Books@2eb46849, com.ibizabrok (truncated)...]
2025-12-26T14:56:50.905+07:00 DEBUG 33836 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:57:01.655+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books?availableOnly=false&page=0&size=10
2025-12-26T14:57:01.657+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:57:01.659+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books?availableOnly=false&page=0&size=10
2025-12-26T14:57:01.661+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books?availableOnly=false&page=0&size=10", parameters={masked}
2025-12-26T14:57:01.663+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#listBooks(String, String, Boolean, int, int)
2025-12-26T14:57:01.671+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        distinct b1_0.id,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        ) 
    limit
        ?
2025-12-26T14:57:01.679+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.book_id,
        c1_1.id,
        c1_1.name 
    from
        book_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:57:01.686+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        a1_0.book_id,
        a1_1.id,
        a1_1.name 
    from
        book_authors a1_0 
    join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    where
        a1_0.book_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-26T14:57:01.695+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(distinct b1_0.id) 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        (
            ? is null 
            or ?='' 
            or lower(b1_0.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(a1_1.name) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
        and (
            ? is null 
            or ?='' 
            or c1_1.name=?
        ) 
        and (
            ?=0 
            or b1_0.number_of_copies_available>0
        )
2025-12-26T14:57:01.703+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:57:01.703+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Page 1 of 7 containing com.ibizabroker.lms.entity.Books instances]
2025-12-26T14:57:01.707+07:00 DEBUG 33836 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:57:03.524+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/1
2025-12-26T14:57:03.530+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T14:57:03.532+07:00 DEBUG 33836 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/books/1/reviews
2025-12-26T14:57:03.535+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/1
2025-12-26T14:57:03.536+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/1", parameters={}
2025-12-26T14:57:03.538+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getBookById(Integer)
2025-12-26T14:57:03.544+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/books/1/reviews
2025-12-26T14:57:03.545+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        a1_0.book_id,
        a1_1.id,
        a1_1.name,
        c1_0.book_id,
        c1_1.id,
        c1_1.name,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        b1_0.id=?
2025-12-26T14:57:03.549+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:57:03.549+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T14:57:03.549+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.ibizabroker.lms.entity.Books@17e11680]
2025-12-26T14:57:03.549+07:00 DEBUG 33836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T14:57:03.549+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.role_id,
        r1_1.role_name 
    from
        user_role r1_0 
    join
        role r1_1 
            on r1_1.role_id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-12-26T14:57:03.593+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/books/1/reviews
2025-12-26T14:57:03.596+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/books/1/reviews", parameters={}
2025-12-26T14:57:03.600+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.ReviewController#getReviewsForBook(Integer)
2025-12-26T14:57:03.612+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.approved,
        r1_0.book_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.rating,
        r1_0.user_id 
    from
        reviews r1_0 
    left join
        books b1_0 
            on b1_0.id=r1_0.book_id 
    where
        b1_0.id=? 
        and r1_0.approved=?
2025-12-26T14:57:03.624+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        avg(r1_0.rating) 
    from
        reviews r1_0 
    where
        r1_0.book_id=? 
        and r1_0.approved=1
2025-12-26T14:57:03.632+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T14:57:03.636+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{reviews=[], averageRating=0.0}]
2025-12-26T14:57:03.638+07:00 DEBUG 33836 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-26T15:09:27.881+07:00  INFO 33836 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-26T15:09:27.892+07:00  INFO 33836 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-26T15:09:27.953+07:00  INFO 33836 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T15:09:27.953+07:00  INFO 33836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T15:09:27.964+07:00  INFO 33836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T15:09:58.336+07:00  INFO 30364 --- [main] c.ibizabroker.lms.LmsApplicationTests    : Starting LmsApplicationTests using Java 21.0.8 with PID 30364 (started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T15:09:58.336+07:00 DEBUG 30364 --- [main] c.ibizabroker.lms.LmsApplicationTests    : Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-26T15:09:58.336+07:00  INFO 30364 --- [main] c.ibizabroker.lms.LmsApplicationTests    : The following 1 profile is active: "dev"
2025-12-26T15:09:58.403+07:00 DEBUG 30364 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@17d238b1
2025-12-26T15:10:00.625+07:00  INFO 30364 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T15:10:00.629+07:00  INFO 30364 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T15:10:00.886+07:00  INFO 30364 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 243 ms. Found 14 JPA repository interfaces.
2025-12-26T15:10:00.900+07:00  INFO 30364 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T15:10:00.900+07:00  INFO 30364 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T15:10:00.915+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:10:00.931+07:00  INFO 30364 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-12-26T15:10:01.852+07:00  INFO 30364 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T15:10:01.932+07:00  INFO 30364 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T15:10:01.982+07:00  INFO 30364 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T15:10:02.356+07:00  INFO 30364 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T15:10:02.394+07:00  INFO 30364 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T15:10:02.592+07:00  INFO 30364 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1260c85e
2025-12-26T15:10:02.601+07:00  INFO 30364 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T15:10:02.633+07:00  WARN 30364 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T15:10:02.641+07:00  WARN 30364 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T15:10:02.662+07:00  INFO 30364 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T15:10:04.447+07:00  INFO 30364 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T15:10:05.120+07:00 DEBUG 30364 --- [main] org.hibernate.SQL                        : 
    alter table loans 
       modify column status enum ('ACTIVE','OVERDUE','RETURNED') not null
2025-12-26T15:10:05.120+07:00 DEBUG 30364 --- [main] org.hibernate.SQL                        : 
    alter table renewal_requests 
       modify column status enum ('APPROVED','PENDING','REJECTED') not null
2025-12-26T15:10:05.139+07:00 DEBUG 30364 --- [main] org.hibernate.SQL                        : 
    alter table reservations 
       modify column status enum ('ACTIVE','CANCELLED','EXPIRED','FULFILLED') not null
2025-12-26T15:10:05.270+07:00  INFO 30364 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T15:10:05.869+07:00  INFO 30364 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T15:10:13.885+07:00  INFO 30364 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T15:10:13.886+07:00  WARN 30364 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T15:10:20.633+07:00 DEBUG 30364 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 69 mappings in 'requestMappingHandlerMapping'
2025-12-26T15:10:21.184+07:00 DEBUG 30364 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T15:10:21.905+07:00  INFO 30364 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T15:10:22.684+07:00 DEBUG 30364 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T15:10:24.226+07:00 DEBUG 30364 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T15:10:24.428+07:00 DEBUG 30364 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T15:10:26.187+07:00  INFO 30364 --- [main] c.ibizabroker.lms.LmsApplicationTests    : Started LmsApplicationTests in 28.555 seconds (process running for 30.49)
2025-12-26T15:10:27.387+07:00 DEBUG 30364 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T15:10:27.645+07:00 DEBUG 30364 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T15:10:27.654+07:00 DEBUG 30364 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T15:10:27.700+07:00 DEBUG 30364 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T15:10:36.551+07:00  INFO 30364 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.ibizabroker.lms.service.EmailServiceTest]: EmailServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-26T15:10:38.433+07:00  INFO 30364 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.ibizabroker.lms.LibraryManagementApplication for test class com.ibizabroker.lms.service.EmailServiceTest
2025-12-26T15:10:41.292+07:00 DEBUG 30364 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@17d238b1, started on Fri Dec 26 15:09:58 ICT 2025
2025-12-26T15:10:41.551+07:00  INFO 30364 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T15:10:41.583+07:00  INFO 30364 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-26T15:10:41.706+07:00  INFO 30364 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-26T15:13:31.280+07:00  INFO 30820 --- [main] c.i.lms.LibraryManagementApplication     : Starting LibraryManagementApplication using Java 21.0.8 with PID 30820 (C:\Users\Admin\library-management-system\lms-backend\target\classes started by Admin in C:\Users\Admin\library-management-system\lms-backend)
2025-12-26T15:13:31.288+07:00 DEBUG 30820 --- [main] c.i.lms.LibraryManagementApplication     : Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-26T15:13:31.290+07:00  INFO 30820 --- [main] c.i.lms.LibraryManagementApplication     : The following 1 profile is active: "dev"
2025-12-26T15:13:33.697+07:00  INFO 30820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T15:13:33.700+07:00  INFO 30820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-26T15:13:34.320+07:00  INFO 30820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 610 ms. Found 14 JPA repository interfaces.
2025-12-26T15:13:34.393+07:00  INFO 30820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-26T15:13:34.402+07:00  INFO 30820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-26T15:13:34.919+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.AuthorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.929+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.BooksRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.935+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.945+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.949+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.LoanRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.955+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.958+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.960+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RenewalRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.964+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReservationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.967+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.973+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.977+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.SystemSettingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.981+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.UsersRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:34.992+07:00  INFO 30820 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.ibizabroker.lms.dao.WishlistRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-26T15:13:35.003+07:00  INFO 30820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 165 ms. Found 0 Redis repository interfaces.
2025-12-26T15:13:37.804+07:00  INFO 30820 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-26T15:13:37.899+07:00  INFO 30820 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-26T15:13:37.899+07:00  INFO 30820 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-26T15:13:38.169+07:00  INFO 30820 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-26T15:13:38.172+07:00  INFO 30820 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6810 ms
2025-12-26T15:13:39.236+07:00  INFO 30820 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-26T15:13:39.414+07:00  INFO 30820 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2025-12-26T15:13:39.787+07:00  INFO 30820 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-26T15:13:41.062+07:00  INFO 30820 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-26T15:13:41.152+07:00  INFO 30820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-26T15:13:41.630+07:00  INFO 30820 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@626766fd
2025-12-26T15:13:41.636+07:00  INFO 30820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-26T15:13:41.749+07:00  WARN 30820 --- [main] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-12-26T15:13:41.761+07:00  WARN 30820 --- [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-26T15:13:42.217+07:00  INFO 30820 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-26T15:13:47.172+07:00  INFO 30820 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-26T15:13:48.068+07:00 DEBUG 30820 --- [main] org.hibernate.SQL                        : 
    alter table loans 
       modify column status enum ('ACTIVE','OVERDUE','RETURNED') not null
2025-12-26T15:13:48.151+07:00 DEBUG 30820 --- [main] org.hibernate.SQL                        : 
    alter table renewal_requests 
       modify column status enum ('APPROVED','PENDING','REJECTED') not null
2025-12-26T15:13:48.223+07:00 DEBUG 30820 --- [main] org.hibernate.SQL                        : 
    alter table reservations 
       modify column status enum ('ACTIVE','CANCELLED','EXPIRED','FULFILLED') not null
2025-12-26T15:13:48.716+07:00  INFO 30820 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-26T15:13:50.004+07:00  INFO 30820 --- [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-26T15:13:51.785+07:00 DEBUG 30820 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-26T15:13:51.785+07:00 DEBUG 30820 --- [main] c.i.lms.configuration.JwtRequestFilter   : Filter 'jwtRequestFilter' configured for use
2025-12-26T15:13:54.525+07:00  INFO 30820 --- [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-26T15:13:54.526+07:00  WARN 30820 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-26T15:13:55.938+07:00 DEBUG 30820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 69 mappings in 'requestMappingHandlerMapping'
2025-12-26T15:13:56.032+07:00 DEBUG 30820 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-26T15:13:56.245+07:00  INFO 30820 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-26T15:13:56.516+07:00 DEBUG 30820 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-26T15:13:57.015+07:00 DEBUG 30820 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-26T15:13:57.083+07:00 DEBUG 30820 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-26T15:13:59.864+07:00  INFO 30820 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-26T15:13:59.976+07:00  INFO 30820 --- [main] c.i.lms.LibraryManagementApplication     : Started LibraryManagementApplication in 29.49 seconds (process running for 30.002)
2025-12-26T15:14:00.495+07:00 DEBUG 30820 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T15:14:00.588+07:00 DEBUG 30820 --- [main] org.hibernate.SQL                        : 
    select
        r1_0.role_id,
        r1_0.role_name 
    from
        role r1_0 
    where
        r1_0.role_name=?
2025-12-26T15:14:00.600+07:00 DEBUG 30820 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T15:14:00.641+07:00 DEBUG 30820 --- [main] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.student_class,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-12-26T15:14:25.100+07:00  INFO 30820 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-26T15:14:25.119+07:00  INFO 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-26T15:14:25.138+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-26T15:14:25.138+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-26T15:14:25.168+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-26T15:14:25.225+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7e66c414
2025-12-26T15:14:25.265+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@78e62cf2
2025-12-26T15:14:25.282+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-26T15:14:25.291+07:00  INFO 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 152 ms
2025-12-26T15:14:25.416+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/public/books/newest
2025-12-26T15:14:25.532+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-26T15:14:25.549+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/public/books/newest
2025-12-26T15:14:25.567+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/public/books/newest", parameters={}
2025-12-26T15:14:25.567+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ibizabroker.lms.controller.PublicBooksController#getNewestBooks()
2025-12-26T15:14:25.653+07:00  WARN 30820 --- [http-nio-8080-exec-2] org.hibernate.orm.query                  : HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory
2025-12-26T15:14:25.676+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.id,
        a1_0.book_id,
        a1_1.id,
        a1_1.name,
        c1_0.book_id,
        c1_1.id,
        c1_1.name,
        b1_0.cover_url,
        b1_0.isbn,
        b1_0.name,
        b1_0.number_of_copies_available,
        b1_0.published_year 
    from
        books b1_0 
    left join
        book_authors a1_0 
            on b1_0.id=a1_0.book_id 
    left join
        authors a1_1 
            on a1_1.id=a1_0.author_id 
    left join
        book_categories c1_0 
            on b1_0.id=c1_0.book_id 
    left join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    order by
        b1_0.id desc
2025-12-26T15:14:25.835+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-26T15:14:25.848+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.ibizabroker.lms.entity.Books@575f8e8c, com.ibizabroker.lms.entity.Books@69466d44, com.ibizabrok (truncated)...]
2025-12-26T15:14:25.982+07:00 DEBUG 30820 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
